(window.zmagsJsonp=window.zmagsJsonp||[]).push([[0],{1:function(e,t,n){"use strict";var r=n(89);n.d(t,"ActionTypes",function(){return r.a});n(178);var i=n(179);n.o(i,"JsClickAction")&&n.d(t,"JsClickAction",function(){return i.JsClickAction}),n.o(i,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return i.SignalErrorAction}),n.o(i,"activateExperience")&&n.d(t,"activateExperience",function(){return i.activateExperience}),n.o(i,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return i.clickLinkAction}),n.o(i,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return i.closeLightboxAction}),n.o(i,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return i.customJsClickAction}),n.o(i,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return i.getNextSceneNumber}),n.o(i,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return i.imageLoadedAction}),n.o(i,"initializeViewer")&&n.d(t,"initializeViewer",function(){return i.initializeViewer}),n.o(i,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return i.openLightboxAction}),n.o(i,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return i.salesforceCommerceAction}),n.o(i,"signalCombinedGroupErrorAnalytics")&&n.d(t,"signalCombinedGroupErrorAnalytics",function(){return i.signalCombinedGroupErrorAnalytics}),n.o(i,"signalComplexGroupLoad")&&n.d(t,"signalComplexGroupLoad",function(){return i.signalComplexGroupLoad}),n.o(i,"signalComplexGroupLoadFailed")&&n.d(t,"signalComplexGroupLoadFailed",function(){return i.signalComplexGroupLoadFailed}),n.o(i,"signalComplexGroupLoaded")&&n.d(t,"signalComplexGroupLoaded",function(){return i.signalComplexGroupLoaded}),n.o(i,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return i.signalExperienceActivated}),n.o(i,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return i.signalExperienceContainerChange}),n.o(i,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return i.signalExperienceInitialLoadEnd}),n.o(i,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return i.signalExperienceLoad}),n.o(i,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return i.signalExperienceLoadFailed}),n.o(i,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return i.signalExperienceLoaded}),n.o(i,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return i.signalExperienceMouseEnter}),n.o(i,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return i.signalExperienceMouseLeave}),n.o(i,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return i.signalExperienceSceneChange}),n.o(i,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return i.signalGroupLoad}),n.o(i,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return i.signalGroupLoadFailed}),n.o(i,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return i.signalGroupLoaded}),n.o(i,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return i.signalTemplateLoad}),n.o(i,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return i.signalTemplateLoadFailed}),n.o(i,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return i.signalTemplateLoaded}),n.o(i,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return i.signalViewerFitInHeightAction}),n.o(i,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return i.signalViewportChange}),n.o(i,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return i.signalWidgetClick}),n.o(i,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return i.trackSceneNavigationAction}),n.o(i,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return i.trackSocialSharing}),n.o(i,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return i.trackWidgetViewAction}),n.o(i,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return i.triggerAnalytics}),n.o(i,"triggerCombinedGroupAnalytics")&&n.d(t,"triggerCombinedGroupAnalytics",function(){return i.triggerCombinedGroupAnalytics}),n.o(i,"triggerImageErrorAnalytics")&&n.d(t,"triggerImageErrorAnalytics",function(){return i.triggerImageErrorAnalytics});var a=n(180);n.o(a,"JsClickAction")&&n.d(t,"JsClickAction",function(){return a.JsClickAction}),n.o(a,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return a.SignalErrorAction}),n.o(a,"activateExperience")&&n.d(t,"activateExperience",function(){return a.activateExperience}),n.o(a,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return a.clickLinkAction}),n.o(a,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return a.closeLightboxAction}),n.o(a,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return a.customJsClickAction}),n.o(a,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return a.getNextSceneNumber}),n.o(a,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return a.imageLoadedAction}),n.o(a,"initializeViewer")&&n.d(t,"initializeViewer",function(){return a.initializeViewer}),n.o(a,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return a.openLightboxAction}),n.o(a,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return a.salesforceCommerceAction}),n.o(a,"signalCombinedGroupErrorAnalytics")&&n.d(t,"signalCombinedGroupErrorAnalytics",function(){return a.signalCombinedGroupErrorAnalytics}),n.o(a,"signalComplexGroupLoad")&&n.d(t,"signalComplexGroupLoad",function(){return a.signalComplexGroupLoad}),n.o(a,"signalComplexGroupLoadFailed")&&n.d(t,"signalComplexGroupLoadFailed",function(){return a.signalComplexGroupLoadFailed}),n.o(a,"signalComplexGroupLoaded")&&n.d(t,"signalComplexGroupLoaded",function(){return a.signalComplexGroupLoaded}),n.o(a,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return a.signalExperienceActivated}),n.o(a,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return a.signalExperienceContainerChange}),n.o(a,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return a.signalExperienceInitialLoadEnd}),n.o(a,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return a.signalExperienceLoad}),n.o(a,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return a.signalExperienceLoadFailed}),n.o(a,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return a.signalExperienceLoaded}),n.o(a,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return a.signalExperienceMouseEnter}),n.o(a,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return a.signalExperienceMouseLeave}),n.o(a,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return a.signalExperienceSceneChange}),n.o(a,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return a.signalGroupLoad}),n.o(a,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return a.signalGroupLoadFailed}),n.o(a,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return a.signalGroupLoaded}),n.o(a,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return a.signalTemplateLoad}),n.o(a,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return a.signalTemplateLoadFailed}),n.o(a,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return a.signalTemplateLoaded}),n.o(a,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return a.signalViewerFitInHeightAction}),n.o(a,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return a.signalViewportChange}),n.o(a,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return a.signalWidgetClick}),n.o(a,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return a.trackSceneNavigationAction}),n.o(a,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return a.trackSocialSharing}),n.o(a,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return a.trackWidgetViewAction}),n.o(a,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return a.triggerAnalytics}),n.o(a,"triggerCombinedGroupAnalytics")&&n.d(t,"triggerCombinedGroupAnalytics",function(){return a.triggerCombinedGroupAnalytics}),n.o(a,"triggerImageErrorAnalytics")&&n.d(t,"triggerImageErrorAnalytics",function(){return a.triggerImageErrorAnalytics});var o=n(181);n.o(o,"JsClickAction")&&n.d(t,"JsClickAction",function(){return o.JsClickAction}),n.o(o,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return o.SignalErrorAction}),n.o(o,"activateExperience")&&n.d(t,"activateExperience",function(){return o.activateExperience}),n.o(o,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return o.clickLinkAction}),n.o(o,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return o.closeLightboxAction}),n.o(o,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return o.customJsClickAction}),n.o(o,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return o.getNextSceneNumber}),n.o(o,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return o.imageLoadedAction}),n.o(o,"initializeViewer")&&n.d(t,"initializeViewer",function(){return o.initializeViewer}),n.o(o,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return o.openLightboxAction}),n.o(o,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return o.salesforceCommerceAction}),n.o(o,"signalCombinedGroupErrorAnalytics")&&n.d(t,"signalCombinedGroupErrorAnalytics",function(){return o.signalCombinedGroupErrorAnalytics}),n.o(o,"signalComplexGroupLoad")&&n.d(t,"signalComplexGroupLoad",function(){return o.signalComplexGroupLoad}),n.o(o,"signalComplexGroupLoadFailed")&&n.d(t,"signalComplexGroupLoadFailed",function(){return o.signalComplexGroupLoadFailed}),n.o(o,"signalComplexGroupLoaded")&&n.d(t,"signalComplexGroupLoaded",function(){return o.signalComplexGroupLoaded}),n.o(o,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return o.signalExperienceActivated}),n.o(o,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return o.signalExperienceContainerChange}),n.o(o,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return o.signalExperienceInitialLoadEnd}),n.o(o,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return o.signalExperienceLoad}),n.o(o,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return o.signalExperienceLoadFailed}),n.o(o,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return o.signalExperienceLoaded}),n.o(o,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return o.signalExperienceMouseEnter}),n.o(o,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return o.signalExperienceMouseLeave}),n.o(o,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return o.signalExperienceSceneChange}),n.o(o,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return o.signalGroupLoad}),n.o(o,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return o.signalGroupLoadFailed}),n.o(o,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return o.signalGroupLoaded}),n.o(o,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return o.signalTemplateLoad}),n.o(o,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return o.signalTemplateLoadFailed}),n.o(o,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return o.signalTemplateLoaded}),n.o(o,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return o.signalViewerFitInHeightAction}),n.o(o,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return o.signalViewportChange}),n.o(o,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return o.signalWidgetClick}),n.o(o,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return o.trackSceneNavigationAction}),n.o(o,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return o.trackSocialSharing}),n.o(o,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return o.trackWidgetViewAction}),n.o(o,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return o.triggerAnalytics}),n.o(o,"triggerCombinedGroupAnalytics")&&n.d(t,"triggerCombinedGroupAnalytics",function(){return o.triggerCombinedGroupAnalytics}),n.o(o,"triggerImageErrorAnalytics")&&n.d(t,"triggerImageErrorAnalytics",function(){return o.triggerImageErrorAnalytics});var c=n(182);n.o(c,"JsClickAction")&&n.d(t,"JsClickAction",function(){return c.JsClickAction}),n.o(c,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return c.SignalErrorAction}),n.o(c,"activateExperience")&&n.d(t,"activateExperience",function(){return c.activateExperience}),n.o(c,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return c.clickLinkAction}),n.o(c,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return c.closeLightboxAction}),n.o(c,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return c.customJsClickAction}),n.o(c,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return c.getNextSceneNumber}),n.o(c,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return c.imageLoadedAction}),n.o(c,"initializeViewer")&&n.d(t,"initializeViewer",function(){return c.initializeViewer}),n.o(c,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return c.openLightboxAction}),n.o(c,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return c.salesforceCommerceAction}),n.o(c,"signalCombinedGroupErrorAnalytics")&&n.d(t,"signalCombinedGroupErrorAnalytics",function(){return c.signalCombinedGroupErrorAnalytics}),n.o(c,"signalComplexGroupLoad")&&n.d(t,"signalComplexGroupLoad",function(){return c.signalComplexGroupLoad}),n.o(c,"signalComplexGroupLoadFailed")&&n.d(t,"signalComplexGroupLoadFailed",function(){return c.signalComplexGroupLoadFailed}),n.o(c,"signalComplexGroupLoaded")&&n.d(t,"signalComplexGroupLoaded",function(){return c.signalComplexGroupLoaded}),n.o(c,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return c.signalExperienceActivated}),n.o(c,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return c.signalExperienceContainerChange}),n.o(c,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return c.signalExperienceInitialLoadEnd}),n.o(c,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return c.signalExperienceLoad}),n.o(c,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return c.signalExperienceLoadFailed}),n.o(c,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return c.signalExperienceLoaded}),n.o(c,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return c.signalExperienceMouseEnter}),n.o(c,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return c.signalExperienceMouseLeave}),n.o(c,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return c.signalExperienceSceneChange}),n.o(c,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return c.signalGroupLoad}),n.o(c,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return c.signalGroupLoadFailed}),n.o(c,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return c.signalGroupLoaded}),n.o(c,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return c.signalTemplateLoad}),n.o(c,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return c.signalTemplateLoadFailed}),n.o(c,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return c.signalTemplateLoaded}),n.o(c,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return c.signalViewerFitInHeightAction}),n.o(c,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return c.signalViewportChange}),n.o(c,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return c.signalWidgetClick}),n.o(c,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return c.trackSceneNavigationAction}),n.o(c,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return c.trackSocialSharing}),n.o(c,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return c.trackWidgetViewAction}),n.o(c,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return c.triggerAnalytics}),n.o(c,"triggerCombinedGroupAnalytics")&&n.d(t,"triggerCombinedGroupAnalytics",function(){return c.triggerCombinedGroupAnalytics}),n.o(c,"triggerImageErrorAnalytics")&&n.d(t,"triggerImageErrorAnalytics",function(){return c.triggerImageErrorAnalytics});var u=n(21);n.d(t,"JsClickAction",function(){return u.a}),n.d(t,"activateExperience",function(){return u.b}),n.d(t,"clickLinkAction",function(){return u.c}),n.d(t,"closeLightboxAction",function(){return u.d}),n.d(t,"customJsClickAction",function(){return u.e}),n.d(t,"getNextSceneNumber",function(){return u.f}),n.d(t,"imageLoadedAction",function(){return u.g}),n.d(t,"initializeViewer",function(){return u.h}),n.d(t,"openLightboxAction",function(){return u.i}),n.d(t,"salesforceCommerceAction",function(){return u.j}),n.d(t,"signalCombinedGroupErrorAnalytics",function(){return u.l}),n.d(t,"signalComplexGroupLoad",function(){return u.q}),n.d(t,"signalComplexGroupLoadFailed",function(){return u.r}),n.d(t,"signalComplexGroupLoaded",function(){return u.s}),n.d(t,"signalExperienceActivated",function(){return u.t}),n.d(t,"signalExperienceContainerChange",function(){return u.u}),n.d(t,"signalExperienceInitialLoadEnd",function(){return u.v}),n.d(t,"signalExperienceLoad",function(){return u.w}),n.d(t,"signalExperienceLoadFailed",function(){return u.x}),n.d(t,"signalExperienceLoaded",function(){return u.y}),n.d(t,"signalExperienceMouseEnter",function(){return u.z}),n.d(t,"signalExperienceMouseLeave",function(){return u.A}),n.d(t,"signalExperienceSceneChange",function(){return u.B}),n.d(t,"signalGroupLoad",function(){return u.C}),n.d(t,"signalGroupLoadFailed",function(){return u.D}),n.d(t,"signalGroupLoaded",function(){return u.E}),n.d(t,"signalTemplateLoad",function(){return u.H}),n.d(t,"signalTemplateLoadFailed",function(){return u.I}),n.d(t,"signalTemplateLoaded",function(){return u.J}),n.d(t,"signalViewerFitInHeightAction",function(){return u.K}),n.d(t,"signalViewportChange",function(){return u.M}),n.d(t,"signalWidgetClick",function(){return u.N}),n.d(t,"trackSceneNavigationAction",function(){return u.O}),n.d(t,"trackSocialSharing",function(){return u.P}),n.d(t,"trackWidgetViewAction",function(){return u.Q}),n.d(t,"triggerAnalytics",function(){return u.R}),n.d(t,"triggerCombinedGroupAnalytics",function(){return u.S}),n.d(t,"triggerImageErrorAnalytics",function(){return u.T});var s=n(187);n.o(s,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return s.SignalErrorAction});var l=n(188);n.d(t,"SignalErrorAction",function(){return l.a});n(189),n(190),n(191)},105:function(e,t){},106:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return f}),n.d(t,"b",function(){return m});n(29);var r=n(24),i=n(1),a=(n(3),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{type:i.ActionTypes.EXPERIENCE_ACTIVATE,payload:{experienceId:e,disableGroups:t,withCache:n}}}),o=function(e,t){return{type:i.ActionTypes.EXPERIENCE_ACTIVATED,payload:{experienceId:e,model:t}}},c=function(e,t,n){return{type:i.ActionTypes.EXPERIENCE_LOAD,payload:{experienceId:e,disableGroups:t,withCache:n}}},u=function(e){return{type:i.ActionTypes.EXPERIENCE_LOADED,payload:{experienceId:e.id,model:e}}},s=function(e,t){return{type:i.ActionTypes.EXPERIENCE_LOAD_FAILED,payload:{data:e,experienceId:t}}},l=function(){return{type:i.ActionTypes.EXPERIENCE_INITIAL_LOAD_END}},d=function(e){return{type:i.ActionTypes.EXPERIENCE_MOUSE_ENTER,payload:{experienceId:e}}},p=function(e){return{type:i.ActionTypes.EXPERIENCE_MOUSE_LEAVE,payload:{experienceId:e}}},g=function(e,t,n){return{type:i.ActionTypes.EXPERIENCE_SCENE_CHANGE,payload:{experienceId:e,sceneNumber:t,transitionDirection:n}}},f=function(e,t,n){return{type:i.ActionTypes.VIEWER_SCENE_NAVIGATOR_WIDGET_CLICK,payload:{sceneNumber:e,experienceId:t},widgetId:n}},m=function(e,t){var n=e===r.a.FORWARDS?1:-1,i=t.currentSceneNumber,a=t.model.scenes.length,o=i+n,c=o;return o<1?c=a:o>a&&(c=1),c}},178:function(e,t){},179:function(e,t){},180:function(e,t){},181:function(e,t){},182:function(e,t){},187:function(e,t){},188:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),i=function(e){return{type:r.ActionTypes.APPLICATION_ERROR,payload:e}}},189:function(e,t){},190:function(e,t,n){},191:function(e,t){},194:function(e,t){},21:function(e,t,n){"use strict";n(29);var r=n(1),i=(n(3),{type:r.ActionTypes.VIEWER_INIT,payload:{}}),a={type:r.ActionTypes.VIEWER_INITIALIZED,payload:{}},o=function(e){e(i),e(a)},c=function(e,t,n,i){return{type:r.ActionTypes.VIEWER_LIGHTBOX_OPEN,payload:{lightbox:e,sceneNumber:t,widgetId:n,analytics:i}}},u=function(){return{type:r.ActionTypes.VIEWER_LIGHTBOX_CLOSE,payload:{}}},s=function(e,t,n,i){return{type:r.ActionTypes.VIEWER_CLICK_LINK,payload:{link:e,sceneNumber:t,widgetId:n,analytics:i}}},l=function(e,t,n,i){return{type:r.ActionTypes.VIEWER_JS_CLICK,payload:{js:e,sceneNumber:t,widgetId:n,analytics:i}}},d=function(e,t,n,i){return{type:r.ActionTypes.VIEWER_CUSTOM_JS_CLICK,payload:{customJs:e,sceneNumber:t,widgetId:n,analytics:i}}},p=function(e,t,n){return{type:r.ActionTypes.VIEWER_SALESFORCE_COMMERCE,payload:{clickAction:e,sceneNumber:t,widgetId:n}}},g=function(e,t,n,i){return{type:r.ActionTypes.VIEWER_SCENE_NAVIGATION,payload:{navigationAction:e,sceneNumber:t,widgetId:n,analytics:i}}},f=function(e,t){return{type:r.ActionTypes.VIEWER_WIDGET_VIEW,payload:{widget:e,sceneNumber:t}}};var m=function(e){return{type:r.ActionTypes.IMAGE_LOADED,payload:{image:e}}};var h=function(e,t,n,i){if(!e)return n(Object(r.SignalErrorAction)(new Error("No sharing information in action")));n(function(e,t,n,i){return{type:r.ActionTypes.VIEWER_SOCIAL_SHARING,payload:{share:e,sceneNumber:t,widgetId:n,analytics:i}}}(e,t,i))},v=function(e,t,n,i,a,o){return{type:r.ActionTypes.VIEWER_WIDGET_CLICK,payload:{action:n,widgetAction:i,sceneNumber:a,type:e,uuid:t,analytics:o}}},E=function(){return{type:r.ActionTypes.VIEWER_FIT_IN_HEIGHT,payload:{}}},y=n(106),w=function(e,t){return{type:r.ActionTypes.GROUP_LOAD,payload:{resourceId:e,withCache:t}}},b=function(e,t){return{type:r.ActionTypes.GROUP_LOADED,payload:{breakpointGroups:e,withCache:t}}},x=function(e){return{type:r.ActionTypes.GROUP_LOAD_FAILED,payload:e}},I=function(e,t){return{type:r.ActionTypes.COMPLEX_GROUP_LOAD,payload:{groupId:e,companyId:t}}},A=function(e,t){return{type:r.ActionTypes.COMPLEX_GROUP_LOADED,payload:{breakpointGroups:e,companySettings:t}}},k=function(e){return{type:r.ActionTypes.COMPLEX_GROUP_LOAD_FAILED,payload:e}},O=function(e){return{type:r.ActionTypes.COMPANY_SETTINGS_LOAD,payload:e}},_=function(e){return{type:r.ActionTypes.COMPANY_SETTINGS_LOADED,payload:e}},L=function(e){return{type:r.ActionTypes.COMPANY_SETTINGS_LOAD_FAILED,payload:e}},C=(n(183),function(e,t){var n=[e.width,t.width],i=[e.height,t.height],a=Math.min.apply(Math,n.filter(Number)),o=Math.min.apply(Math,i.filter(Number));return{type:r.ActionTypes.VIEWPORT_CHANGE,payload:{width:a,height:o}}}),S=function(e){var t=e.height,n=e.width;return{type:r.ActionTypes.EXPERIENCE_CONTAINER_CHANGE,payload:{height:t,width:n}}},T=function(e){return{type:r.ActionTypes.ANALYTICS_EVENT_QUEUED,payload:{companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName}}},N=function(e){return{type:r.ActionTypes.REMOVE_ANALYTICS_EVENT,payload:{companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName}}},R=function(e){return{type:r.ActionTypes.TRIGGER_ANALYTICS,payload:{companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName}}},D=function(e){return{type:r.ActionTypes.IMAGE_ERROR_EVENT,payload:{widgetId:e.widgetId,sceneId:e.sceneId,sceneNumber:e.sceneNumber,imageErrorData:e.imageErrorData}}},G=function(e){return{type:r.ActionTypes.COMBINED_GROUP_ERROR_EVENT,payload:{companyId:e.companyId,groupId:e.groupId}}},j=function(e){return{type:r.ActionTypes.COMBINED_GROUP_ERROR_EVENT_QUEUED,payload:{companyId:e.companyId,groupId:e.groupId}}},M=function(e){return{type:r.ActionTypes.REMOVE_COMBINED_GROUP_ERROR_EVENT,payload:{companyId:e.companyId,groupId:e.groupId}}},V=function(e){return{type:r.ActionTypes.TRIGGER_COMBINED_GROUP_ANALYTICS,payload:{companyId:e.companyId,groupId:e.groupId}}},P=function(e){return{type:r.ActionTypes.TEMPLATE_LOAD,payload:{templateId:e}}},F=function(e,t){return{type:r.ActionTypes.TEMPLATE_LOADED,payload:{model:e,templateId:t}}},W=function(e){return{type:r.ActionTypes.TEMPLATE_LOAD_FAILED,payload:e}};n.d(t,"g",function(){return m}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"Q",function(){return f}),n.d(t,"a",function(){return l}),n.d(t,"O",function(){return g}),n.d(t,"P",function(){return h}),n.d(t,"N",function(){return v}),n.d(t,"K",function(){return E}),n.d(t,"b",function(){return y.a}),n.d(t,"t",function(){return y.c}),n.d(t,"w",function(){return y.e}),n.d(t,"y",function(){return y.g}),n.d(t,"x",function(){return y.f}),n.d(t,"v",function(){return y.d}),n.d(t,"z",function(){return y.h}),n.d(t,"A",function(){return y.i}),n.d(t,"B",function(){return y.j}),n.d(t,"L",function(){return y.k}),n.d(t,"f",function(){return y.b}),n.d(t,"C",function(){return w}),n.d(t,"E",function(){return b}),n.d(t,"D",function(){return x}),n.d(t,"q",function(){return I}),n.d(t,"s",function(){return A}),n.d(t,"r",function(){return k}),n.d(t,"n",function(){return O}),n.d(t,"p",function(){return _}),n.d(t,"o",function(){return L}),n.d(t,"M",function(){return C}),n.d(t,"u",function(){return S}),n.d(t,"k",function(){return T}),n.d(t,"F",function(){return N}),n.d(t,"R",function(){return R}),n.d(t,"S",function(){return V}),n.d(t,"T",function(){return D}),n.d(t,"l",function(){return G}),n.d(t,"m",function(){return j}),n.d(t,"G",function(){return M}),n.d(t,"H",function(){return P}),n.d(t,"J",function(){return F}),n.d(t,"I",function(){return W})},217:function(e,t,n){e.exports={experienceViewer:"ExperienceViewer_experienceViewer_2hSVo CleanSlate_cleanslate_2LZA9"}},218:function(e,t,n){e.exports={shareLink:"style_shareLink_3jMj6"}},24:function(e,t,n){"use strict";var r;!function(e){e[e.FORWARDS=0]="FORWARDS",e[e.BACKWARDS=1]="BACKWARDS"}(r||(r={})),t.a=r},368:function(e,t,n){"use strict";n.r(t);var r,i=n(5),a=n.n(i),o=(n(19),n(91),n(107)),c=n.n(o),u=n(0),s=n.n(u),l=n(42),d=n(23),p=n(24),g={id:null,createdAt:0,version:0,companyId:"",pushedAt:0,pushedBy:"",pushedVersion:0,changedSinceLastPush:!1,imageViewedEventsEnabled:!1,analyticsEnabled:!0,ecommerceTrackerEnabled:!1,zsiteVanityUrlsEnabled:!1,zsiteVanityUrlMaxCount:"",zsiteNonVanityUrlMaxCount:"",heatmapsEnabled:!1,isUsingUuids:!0,textWidgetEnabled:!1,enhancedTextWidgetEnabled:!0,matomoTrackerEnabled:!1,matomoTrackerFullEnabled:!1,templateSharingEnabled:!1,cloudinaryDefaultImageProvider:!1,enableImageLQIP:!1,cloudinaryImageAndDprOverride:"",channelConfigId:"",editedAt:0,editedBy:"",segmentIoApiKey:"",googleAnalyticsId:"",matomoTrackingUrl:"",omniture:{eventMappings:{},common:{},enabled:!1},bundleStrategy:"Standard",state:"Active",breakpointEnabled:!1,breakpoints:[],adaTabOrderEnabled:!1,combinedGroupsSpeed:!1,imageErrorSampleRate:0};!function(e){e.Width="width",e.Height="height"}(r||(r={}));var f,m,h,v,E,y={currentSceneNumber:1,transitionDirection:p.a.FORWARDS},w={model:g},b={viewportHeight:-1,viewportWidth:-1,containerHeight:-1,containerWidth:-1},x={experiences:{},breakpointGroups:[],queuedAnalyticsEvents:[],queuedGroupEvents:[],initialLoad:!0,experienceFit:r.Width},I={viewer:x,company:{},page:b},A=(n(29),n(48)),k=n(31),O=n(214),_=n(18),L=n.n(_),C=n(8),S=n.n(C),T=n(1),N=n(89),R=Object(A.combineReducers)({company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.ActionTypes.COMPANY_SETTINGS_LOADED:return S()({},e,{model:t.payload});case T.ActionTypes.COMPLEX_GROUP_LOADED:var n=t.payload.companySettings;return n?{model:n}:e;case T.ActionTypes.TEMPLATE_LOADED:return w;default:return e}},viewer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.ActionTypes.VIEWER_INIT:return S()({},e);case T.ActionTypes.EXPERIENCE_ACTIVATE:var n=t.payload.experienceId,i=e.experiences[n];return S()({},e,{activeExperienceId:n,activeExperience:i,initialLoad:!0});case T.ActionTypes.EXPERIENCE_INITIAL_LOAD_END:return S()({},e,{initialLoad:!1});case T.ActionTypes.ANALYTICS_EVENT_QUEUED:var a=t.payload,o=!1;return e.queuedAnalyticsEvents.forEach(function(e){e.experienceId===a.experienceId&&(o=!0)}),o?S()({},e):S()({},e,{queuedAnalyticsEvents:[].concat(L()(e.queuedAnalyticsEvents),[a])});case T.ActionTypes.REMOVE_ANALYTICS_EVENT:var c=t.payload;return S()({},e,{queuedAnalyticsEvents:e.queuedAnalyticsEvents.filter(function(e){return e.experienceId!==c.experienceId})});case T.ActionTypes.COMBINED_GROUP_ERROR_EVENT_QUEUED:var u=t.payload;return o=!1,e.queuedGroupEvents.forEach(function(e){e.groupId===u.groupId&&(o=!0)}),o?S()({},e):S()({},e,{queuedGroupEvents:[].concat(L()(e.queuedGroupEvents),[u])});case T.ActionTypes.REMOVE_COMBINED_GROUP_ERROR_EVENT:var s=t.payload;return S()({},e,{queuedGroupEvents:e.queuedGroupEvents.filter(function(e){return e.groupId!==s.groupId})});case T.ActionTypes.EXPERIENCE_LOADED:var l=t.payload.experienceId,d=S()({},e.experiences);return d[l]=d[l]?S()({},d[l]):S()({},y,{model:t.payload.model}),S()({},e,{experiences:d});case T.ActionTypes.EXPERIENCE_SCENE_CHANGE:var p=t.payload,g=p.experienceId,f=p.sceneNumber,m=p.transitionDirection,h=S()({},e.experiences),v=h[g];return h[g]={model:v.model,currentSceneNumber:f,transitionDirection:m},S()({},e,{experiences:h});case T.ActionTypes.EXPERIENCE_LOAD_FAILED:return S()({},e,{error:t.payload.data.message});case T.ActionTypes.GROUP_LOADED:var E=t.payload.breakpointGroups;return S()({},e,{breakpointGroups:E});case T.ActionTypes.COMPLEX_GROUP_LOADED:var w=S()({},e.experiences);return t.payload.breakpointGroups&&t.payload.breakpointGroups.forEach(function(e){if(e.experience){var t=e.experience,n=t.id;w[n]||(w[n]=S()({},y,{model:t}))}}),S()({},e,{breakpointGroups:t.payload.breakpointGroups,experiences:w});case T.ActionTypes.TEMPLATE_LOADED:var b=t.payload.model,I={};return I[b.id]=S()({},y,{model:b}),S()({},e,{experiences:I,activeExperienceId:b.id,activeExperience:b,initialLoad:!0});case T.ActionTypes.VIEWER_LIGHTBOX_OPEN:var A=e.experienceFit!==r.Height?t.payload.lightbox:void 0;return S()({},e,{lightbox:A});case T.ActionTypes.VIEWER_LIGHTBOX_CLOSE:return S()({},e,{lightbox:void 0});case T.ActionTypes.IMAGE_LOADED:var k=t.payload.image,O=e.loadedImages?S()({},e.loadedImages):{};return O[k.imageId]=k.width,S()({},e,{loadedImages:O});case T.ActionTypes.VIEWER_FIT_IN_HEIGHT:return S()({},e,{experienceFit:r.Height});default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.a.VIEWPORT_CHANGE:var n=t.payload,r=n.height,i=void 0===r?-1:r,a=n.width,o=void 0===a?-1:a;return S()({},e,{viewportHeight:i,viewportWidth:o});case N.a.EXPERIENCE_CONTAINER_CHANGE:var c=t.payload,u=c.height,s=void 0===u?-1:u,l=c.width,d=void 0===l?-1:l;return S()({},e,{containerHeight:s,containerWidth:d});default:return e}}}),D=n(62),G=n.n(D),j=(n(282),n(7)),M=n.n(j),V=n(6),P=n.n(V),F=n(63),W=n.n(F),U=(n(33),n(87),n(61)),z=n.n(U),B=(n(194),n(15)),H=Object({NODE_ENV:"production",APP_CONFIG:{cncViewFullBaseUrl:"https://cnc-api.zmags.com/view/full/",cncViewLiteBaseUrl:"https://cnc-api.zmags.com/view/lite/",adminApiBaseUrl:"https://creator-api.zmags.com",editorBaseUrl:"//creator.zmags.com",editorApiBaseUrl:"https://creator-api.zmags.com",viewerBaseUrl:"//c.zmags.com",viewerApiBaseUrl:"//c.zmags.com",cncStaticAssetsBaseUrl:"//c.zmags.com/static",cncSsrApiBaseUrl:"//c.zmags.com",viewerAliasApiBaseUrl:"//creator.zmags.com",communityBaseUrl:"https://creatorcommunity.zmags.com",errorQueueUrl:"https://c.zmags.com/queue/error/",cloudinaryBaseUrl:"https://images.creator-prod.zmags.com/image/upload",cloudinaryImageReloadBreakpoint:100,statsDUrl:"https://statsd.zmags.com/stats",salesEmail:"sales@zmags.com",supportEmail:"support@zmags.com",editorSegmentIOKey:"20jbiv8frx",matomoConfig:{trackingScriptUrl:"//c.z-analytics.net/reporting/optimize/ztracker.js",trackerUrl:"",dashboardUrl:"//auth.reporting.creator-prod.zmags.com",siteID:1},answerFileUrl:"https://static.inventory.creator-prod.zmags.com/dynamic_pricing/answer_files",enableLogging:1,logId:null,trackErrors:!0,experienceId:null,groupId:null,scene:null,statsDBucket:"creator.prod"},PORT:void 0,SSL_PORT:void 0,TARGET_ENV:"prod",VERSION_DATA:{hash:"90b1c24df7",numCommits:21622,buildDate:1631627091123,dirty:!0,name:"cnc"}}),X=H.APP_CONFIG,q=H.NODE_ENV,J=H.PORT,Y=H.SSL_PORT,K=H.TARGET_ENV,Q=H.VERSION_DATA,Z="string"==typeof X?JSON.parse(X):X,$={string:function(e,t){return"undefined"===t?"":e.toString()},number:function(e,t){return"boolean"===t||"undefined"===t?e?1:0:W()(e.toString(),10)||void 0},boolean:function(e,t){return"number"===t?!!e:"undefined"!==t&&/yes|true|on/i.test(e.toString())},function:function(e){return function(){return e}}},ee=function(){function e(){M()(this,e)}return P()(e,null,[{key:"val",value:function(e,t){t&&(e=Object(B.extend)(e||{},t));var n="undefined"!=typeof window,r=e.url||n?window.location.search:"",i=!1!==e.url?function(e,t){if(e){var n,r,i,a=z()(t)?t:[t],o=e.slice(e.indexOf("?")+1).split("&");for(i=0;i<a.length;i++)for(t=a[i],r=0;r<o.length;r++)if((n=o[r].split("="))[0]===t)return n[1]}}(r,e.name):void 0,a=G()(i);if("undefined"===a&&(null===(i=this[e.configName||e.name])&&(i=void 0),a=G()(i)),a===e.type)return i;if(!e.type)return"undefined"===a?e.defaultValue:i;var o=e.converter||$[e.type],c=G()(e.defaultValue);return o?("undefined"!==a&&(i=o(i,a)),void 0===i?c===e.type?e.defaultValue:o(e.defaultValue,c):i):c===e.type?e.defaultValue:void 0}}]),e}(),te=S()({},Z,{production:"production"===q,port:J||8081,sslPort:Y||8082,targetEnv:K||"dev",version:"".concat(Q.name,"-").concat(Q.hash,"-").concat(Q.numCommits)}),ne=Object(k.default)(),re=[ne],ie=(n(291),n(26)),ae=n.n(ie),oe=new(function(){function e(){M()(this,e),a()(this,"_providers",[])}return P()(e,[{key:"registerProvider",value:function(e){return!Object(B.find)(this._providers,function(t){return e.constructor===t.constructor})&&(this._providers.push(e),!0)}},{key:"load",value:function(e){var t=Object(B.find)(this._providers.reverse(),function(t){return t.support(e)});return t?t.load(e):ae.a.reject(new Error('Unable to find FontLoaderProvider for font "'.concat(e.fontFamily,'"')))}},{key:"loadFromArray",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ae.a.all(t.map(function(t){return e.load(t)}))}},{key:"providers",get:function(){return this._providers}}]),e}()),ce=n(64),ue=n.n(ce),se=n(152),le=n.n(se);!function(e){e.COLOR="color",e.IMAGE="Image"}(f||(f={})),function(e){e.BREAKPOINT="Breakpoint",e.LOCALIZATION="Localization"}(m||(m={})),function(e){e.BEFORE="before",e.AFTER="after"}(h||(h={})),function(e){e.TEXT_ONLY="TEXT_ONLY",e.ICON_ONLY="ICON_ONLY",e.TEXT_AND_ICON="TEXT_AND_ICON"}(v||(v={})),function(e){e.NONE="none",e.SLIDE_FROM_TOP="slide-from-top",e.SLIDE_FROM_BOTTOM="slide-from-bottom",e.SLIDE_FROM_LEFT="slide-from-left",e.SLIDE_FROM_RIGHT="slide-from-right",e.FADE="fade"}(E||(E={}));var de,pe,ge,fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;M()(this,e),this.x=t,this.y=n}return P()(e,null,[{key:"getFrom",value:function(t,n){return new e(n.width/t.width,n.height/t.height)}}]),P()(e,[{key:"widthFactor",get:function(){return this.x}},{key:"heightFactor",get:function(){return this.y}},{key:"avereage",get:function(){return(this.x+this.y)/2}},{key:"min",get:function(){return Math.min(this.x,this.y)}},{key:"max",get:function(){return Math.max(this.x,this.y)}}]),e}();!function(e){e.LINE="line",e.SHAPE="shape",e.IMAGE="image",e.LINK="link",e.SCENE_NAVIGATOR="scene-navigator",e.EMBED="embed",e.YOUTUBE="youtube",e.SOCIAL_SHARING="social-sharing",e.TEXT="text",e.TEXT_ENHANCED="text-enhanced",e.BUTTON="button",e.COMPOSITE="composite",e.SALESFORCE_COMMERCE="demandware",e.DYNAMIC_PRODUCT="dynamic-product",e.HTML="html"}(de||(de={})),function(e){e.CUSTOM="custom",e.GOOGLE="google",e.STANDARD="standard",e.TYPEKIT="typekit",e.FONTSDOTCOM="fontsDotCom"}(pe||(pe={})),function(e){e[e.TABBABLE=0]="TABBABLE",e[e.NONTABBABLE=-1]="NONTABBABLE"}(ge||(ge={}));var me,he,ve,Ee,ye,we,be,xe,Ie,Ae;de.COMPOSITE,new fe,Function,ge.NONTABBABLE;!function(e){e.Scene7="Scene7Integration",e.Cloudinary="Cloudinary",e.Creator="Creator",e.Unknown="Unknown",e.Static="Static"}(me||(me={})),function(e){e.FlatSquared="flat-squared",e.FlatRounded="flat-rounded",e.Isolated="isolated",e.FlatCircle="flat-circle",e.WhiteCircle="white-circle",e.BlackCircle="black-circle"}(he||(he={})),function(e){e.Squared="Squared",e.Rounded="Rounded",e.Isolated="Isolated",e.Circle="Circle",e.White="White",e.Black="Black"}(ve||(ve={})),function(e){e.Facebook="facebook",e.Twitter="twitter",e.Linkedin="linkedin",e.Pinterest="pinterest",e.GooglePlus="googleplus"}(Ee||(Ee={})),function(e){e.Js="js",e.CustomJs="customJs",e.LinkAction="link",e.SocialSharing="socialSharing",e.SceneNavigation="sceneNavigation",e.Lightbox="lightbox",e.SalesforceCommerce="demandware"}(ye||(ye={})),function(e){e.SCENE7="Scene7Integration",e.ADDME="AddMe"}(we||(we={})),function(e){e.SLIDE="slide",e.SLIDE_OUT="slideOut",e.FADE="fade",e.FADE_OUT="fadeOut",e.ZOOM_IN="zoomIn",e.ZOOM_OUT="zoomOut",e.MOVE="move"}(be||(be={})),function(e){e.LINEAR="linear",e.EASE_IN="ease-in",e.EASE_OUT="ease-out",e.EASE_IN_OUT="ease-in-and-out",e.BOUNCE="bounce",e.ELASTIC="elastic",e.BACK_OUT="back-out"}(xe||(xe={})),function(e){e.IMAGE_TOGGLE="imageToggle",e.OPACITY="opacity",e.PULSE="pulse",e.ROTATE="rotate",e.SCALE="scale"}(Ie||(Ie={})),function(e){e.HOVER="hover",e.ATTENTION="attention"}(Ae||(Ae={}));var ke=n(78),Oe=function(){function e(){M()(this,e),a()(this,"cache",new le.a)}return P()(e,[{key:"support",value:function(e){return"undefined"!=typeof document&&e.fontProvider===pe.CUSTOM}},{key:"load",value:function(e){var t=e.fontMetadata,n=!!t&&!!t.path&&!!t.format;if(this.cache.has(e.fontFamily)||!n)return ae.a.resolve(e);var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML='\n            @font-face {\n                font-family: "'.concat(e.fontFamily,'";\n                src: url(').concat(te.viewerApiBaseUrl,"/").concat(t.path,') format("').concat(t.format,'")\n            }\n        '),document.head.appendChild(r),this.cache.add(e.fontFamily),new ae.a(function(t,n){ke.load({custom:{families:['"'.concat(e.fontFamily,'"')]},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})})}}]),e}(),_e=function(){function e(){M()(this,e)}return P()(e,[{key:"support",value:function(e){return e.fontProvider===pe.GOOGLE}},{key:"load",value:function(e){return new ae.a(function(t,n){ke.load({google:{families:["".concat(e.fontFamily,":").concat(e.fontWeight)]},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})})}}]),e}(),Le=function(){function e(){M()(this,e)}return P()(e,[{key:"support",value:function(e){return e.fontProvider===pe.STANDARD}},{key:"load",value:function(e){return new ae.a(function(t,n){ke.load({custom:{},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})})}}]),e}(),Ce=function(){function e(){M()(this,e),a()(this,"cache",new le.a)}return P()(e,[{key:"support",value:function(e){return e.fontProvider===pe.TYPEKIT}},{key:"load",value:function(e){var t=e.fontMetadata;return this.cache.has(t.kitID)?ae.a.resolve(e):(this.cache.add(t.kitID),new ae.a(function(t,n){var r=e.fontMetadata;ke.load({typekit:{id:r.kitID},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})}))}}]),e}(),Se=function(){function e(){M()(this,e)}return P()(e,[{key:"support",value:function(e){return e.fontProvider===pe.FONTSDOTCOM}},{key:"load",value:function(t){return new ae.a(function(n,r){var i=t.fontMetadata;ke.load({monotype:{projectId:i.projectId,version:e._version},fontactive:function(){return n(t)},fontinactive:function(){return r(t)}})})}}]),e}();a()(Se,"_version",ue()());var Te=n(3),Ne=(n(310),n(72),function(e){return null==e?"":"".concat(e)});function Re(e){return 0===(e=Ne(e)).length||0===e.trim().length}function De(e){return e=Ne(e),"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}var Ge=function e(){M()(this,e)};a()(Ge,"isBlank",Re),a()(Ge,"startsWith",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ne(e).substr(!n||n<0?0:+n,t.length)===t}),a()(Ge,"contains",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=Ne(e),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}),a()(Ge,"capitalize",De),a()(Ge,"titleize",function(e){return Ne(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}),a()(Ge,"camelize",function(e){return Ne(e).trim().replace(/[-_\s]+(.)?/g,function(e,t){return""!==e?t.toUpperCase():""})}),a()(Ge,"dasherize",function(e){return Ne(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}),a()(Ge,"rtrim",function(e){return(e=Ne(e)).replace(/\s*$/,"")}),a()(Ge,"trim",function(e){return Ne(e).trim()});var je=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";M()(this,e),a()(this,"_prefix",void 0),a()(this,"_delimiter",void 0),this._prefix=t,this._delimiter=n}return P()(e,[{key:"format",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._prefix&&t.splice(0,0,this._prefix),t.filter(function(e){return!Re(e)}).join(this._delimiter)}}],[{key:"format",value:function(){return Me.format.apply(Me,arguments)}}]),e}(),Me=new je,Ve=n(11),Pe=n.n(Ve),Fe=n(10),We=n.n(Fe),Ue=n(12),ze=n.n(Ue),Be=n(4),He=n.n(Be),Xe=n(109),qe=n.n(Xe),Je=n(27),Ye=n.n(Je),Ke=n(73),Qe=n.n(Ke),Ze={},$e=function(){function e(){M()(this,e)}return P()(e,[{key:"dispose",value:function(){}},{key:"runJs",value:function(){var e=Qe()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ae.a(function(e,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=e,r.onerror=n,r.async=!0,r.src=t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"loadTrackingScript",value:function(e){var t=new ae.a(function(t,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=t,r.onerror=n,r.async=!0,r.src=e});if(!Ze[e])return t.then(function(){Ze[e]=1})}},{key:"validateEvent",value:function(e,t,n){return!Re(e)&&!Re(t)&&Object(B.isString)(n)}},{key:"sanitizeEvent",value:function(e){if(!e)throw new Error("Event cannot  be null or undefined");for(var t in e)if(Object(B.isUndefined)(e[t])||!e[t])switch(t){case"category":e[t]="UnknownCategory";break;case"action":e[t]="UnknownAction";break;case"label":e[t]="undefinedLabel";break;default:e[t]=""}}}]),e}(),et="Custom JavaScript action activated",tt="Experience viewed",nt="Click on link",rt="JavaScript action activated",it="Navigation link clicked",at="Open lightbox",ot="Product Viewed",ct="Product widget clicked",ut="Click on social shared link",st="Image_viewed",lt="viewer:lightbox:open",dt="viewer:link:visit",pt="viewer:javascript:execute",gt="viewer:product:view",ft="viewer:scene:navigate",mt="viewer:social:share",ht="viewer:image:view",vt="viewer:widget:view",Et="Event Image Widget Error",yt="Event Combined Group Error",wt=ee.val({name:"zmagsAnalyticsDebug",type:"boolean",defaultValue:!1}),bt="https://www.google-analytics.com/".concat(wt?"analytics_debug.js":"analytics.js"),xt=/UA-[0-9]+-[0-9]+/,It=new Ye.a;It.set(et,!0),It.set(tt,!1),It.set(nt,!0),It.set(rt,!0),It.set(it,!0),It.set(at,!0),It.set(ot,!0),It.set(ut,!0),It.set(st,!1);var At=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new je;return M()(this,t),n=Pe()(this,We()(t).call(this,e)),a()(He()(He()(n)),"_eventLabelFormatter",void 0),n._eventLabelFormatter=r,n}return ze()(t,e),P()(t,[{key:"toEventLabel",value:function(e,t,n,r,i,a){var o,c=[];return a&&a.label?c.push(a.label):(r&&c.push("Scene ".concat(r.toString())),i&&c.push(i)),(o=this._eventLabelFormatter).format.apply(o,c)}}]),t}(function(e){function t(e){var n;if(M()(this,t),n=Pe()(this,We()(t).call(this)),a()(He()(He()(n)),"_trackingID",void 0),a()(He()(He()(n)),"_name",void 0),!xt.test(e))throw new Error("Invalid Google Analytics tracking ID: ".concat(e));return n._trackingID=e,n._name=Object(B.uniqueId)("gatracker"),n._initializeUniversal(),n}return ze()(t,e),P()(t,[{key:"trackPageView",value:function(){}},{key:"trackEvent",value:function(e,t){var n={name:e,category:t.category,label:t.label};$e.sanitizeEvent(n),this._trackEvent(t.category,n.name,t.label)}},{key:"trackExperienceEvent",value:function(e){var t=e.category,n=e.name,r=e.companyId,i=e.experienceId,a=e.experienceName,o={category:t,name:n,companyId:r,experienceId:i,experienceName:a,sceneNumber:e.sceneNumber,sceneId:e.sceneId,data:e.data,analytics:e.analytics};$e.sanitizeEvent(o);var c=this.toEventLabel(o.companyId,o.experienceId,o.experienceName,o.sceneNumber,o.data,o.analytics),u="[Zmags] ".concat(a," interaction");this._trackEvent(u,o.name,c)}},{key:"_isEventInteractive",value:function(e){return It.get(e)}},{key:"_initializeUniversal",value:function(){Object(B.isUndefined)(window.ga)&&(window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=(new Date).getTime(),$e.loadTrackingScript(bt)),window.ga("create",this._trackingID,"auto",this._createOptions())}},{key:"_createOptions",value:function(){return{name:this._name}}},{key:"_trackEvent",value:function(e,t,n){$e.validateEvent(e,t,n)&&window.ga("".concat(this._name,".send"),"event",e,t,n,{nonInteraction:!this._isEventInteractive(t)})}},{key:"dispose",value:function(){qe()(We()(t.prototype),"dispose",this).call(this),window.ga("".concat(this._name,".remove"))}}]),t}($e)),kt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ot=function(){function e(){M()(this,e)}return P()(e,null,[{key:"now",value:function(){return ue()()}},{key:"currentYear",value:function(){return(new Date).getFullYear()}},{key:"_oneDigitPrepender",value:function(e){return e<10?"0".concat(e):e}},{key:"formatYYYYMMDDHHmm",value:function(e){if(!e)return"";Object(B.isNumber)(e)&&(e=new Date(e));var t=e.getFullYear(),n=this._oneDigitPrepender(e.getMonth()+1),r=this._oneDigitPrepender(e.getDate()),i=this._oneDigitPrepender(e.getHours()),a=this._oneDigitPrepender(e.getMinutes());return"".concat(t,"-").concat(n,"-").concat(r,", ").concat(i,":").concat(a)}},{key:"diffDays",value:function(e,t){return Object(B.isNumber)(e)&&(e=new Date(e)),Object(B.isNumber)(t)&&(t=new Date(t)),Math.abs(t.getTime()-e.getTime())/864e5}},{key:"timeDifference",value:function(e,t){t||(t=0);var n=e-t;if(n<36e5){var r=Math.round(n/6e4);return r<=1?"a minute":"".concat(r," minutes")}if(n<864e5){var i=Math.round(n/36e5),a=i.toString();return a+=i>1?" hours":" hour"}if(n<2592e6){var o=Math.round(n/864e5),c=o.toString();return c+=o>1?" days":" day"}if(n<31536e6){var u=Math.round(n/2592e6),s=u.toString();return s+=u>1?" months":" month"}var l=Math.round(n/31536e6),d=l.toString();return d+=l>1?" years":" year"}},{key:"formatMMDDYYY",value:function(e){if(!e)return"";Object(B.isNumber)(e)&&(e=new Date(e));var t=e.getFullYear(),n=kt[e.getMonth()],r=this._oneDigitPrepender(e.getDate());return"".concat(n," ").concat(r,", ").concat(t)}}]),e}(),_t=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,[{key:"toEventLabel",value:function(e,t,n,r,i){return je.format(n,r.toString(),i)}}]),t}(function(e){function t(e){var n;return M()(this,t),n=Pe()(this,We()(t).call(this)),a()(He()(He()(n)),"_iframeWindow",void 0),n._iframeWindow=t.initializeSnippet(e),n}return ze()(t,e),P()(t,[{key:"_getTracker",value:function(){return this._iframeWindow.analytics}},{key:"trackPageView",value:function(){var e=this._getTracker();e&&e.pageview(window.location.href),this.trackEvent("Page View",{url:window.location.href,timestamp:Ot.now().toString()})}},{key:"trackEvent",value:function(e,t){var n=this._getTracker();n&&n.track(e,t)}},{key:"trackImageViewedEvent",value:function(){}},{key:"trackExperienceEvent",value:function(e){var t=e.category,n=e.name,r=e.companyId,i=e.experienceId,a=e.experienceName,o=e.sceneNumber,c=e.data,u=n===tt?"":o,s={category:t,label:this.toEventLabel(r,i,a,u,c)};this.trackEvent(n,s)}}],[{key:"initializeSnippet",value:function(e){var t=document.createElement("iframe");t.setAttribute("src","about:blank"),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n&&n.document;r.open();var i='\n            <script type="text/javascript">\n                var analytics=analytics||[];(function(){var e=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group"],t=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var n=0;n<e.length;n++)analytics[e[n]]=t(e[n])})(),analytics.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)};\n                analytics.load("'.concat(e,'");\n            <\/script>\n        ');return r.write(i),r.close(),n}}]),t}($e)),Lt=n(36),Ct=n.n(Lt),St=ee.val({name:"zmagsLog",configName:"enableLogging",type:"number",defaultValue:1}),Tt="undefined"!=typeof console&&"function"!=typeof console.info;if(!Tt)try{throw new Error}catch(e){Tt=!e.stack}var Nt=function(){function e(t){M()(this,e),a()(this,"_name",void 0),this._name=t+(e.id?":".concat(e.id):"")}return P()(e,[{key:"_callPrintFunction",value:function(e,t){var n,r=["[".concat(this._name,"]")],i=new Date;(r.push("".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds(),":").concat(i.getMilliseconds())),r=r.concat(Array.prototype.slice.call(t)),Tt)?console[e](r.join(" ")):(n=console)[e].apply(n,L()(r))}},{key:"_print",value:function(e,t,n){if("undefined"!=typeof console&&St>=e){var r=this;n[0]&&n[0].promise&&Object(B.isFunction)(n[0].promise)&&1===n.length?n[0].done(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r._callPrintFunction(t,n)}).fail(function(){r._callPrintFunction(t,["Promise failed."])}):r._callPrintFunction(t,n)}}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(2,"info",t)}},{key:"verbose",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(3,"info",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(1,"warn",t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(1,"error",t)}}]),e}();a()(Nt,"OFF",0),a()(Nt,"ERROR",1),a()(Nt,"LOG",2),a()(Nt,"VERBOSE",3),a()(Nt,"id",ee.val({name:["embedded","lightbox"],configName:"logId",type:"string"})),a()(Nt,"level",function(e){return"number"==typeof e&&(St=e,new Nt("Logger").info("Set log level: ".concat(St))),St}),Nt.level(St);var Rt=n(215);function Dt(e){var t=function(e){for(var t,n=window,r=!0;n.parent&&n.parent.window&&n.parent!==n.self;)try{if(n.parent.innerWidth,e&&void 0!==(t=e(n.parent,n)))return t;n=n.parent,r=!1}catch(e){r=e;break}return r&&e&&(t=e(null,n,r)),void 0===t?n:t}();return e&&t===window.self?null:t}function Gt(e,t,n){var r,i;"number"==typeof n&&(t=n,n=void 0);var a,o,c=new ae.a(function(e,t){r=e,i=t}),u=function(){a&&(window.clearTimeout(a),a=null)},s=function(){var t=function(e,t){var n,r,i,a,o="string"==typeof e?[e]:e;if(void 0===t&&(t=Dt(!1)),null!=t)e:for(i=0;i<o.length;i++){for(r=t,n=o[i].split("."),a=0;a<n.length;a++){try{r=r[n[a]]}catch(e){r=null}if(null==r)continue e}return r}}(e,n);return null==t||(u(),r(t),!1)};return s()&&(t=t||5e3,o=ue()(),a=window.setInterval(function(){s()&&ue()()-o>t&&(u(),i())},200)),c}function jt(e){"string"==typeof e&&(e={code:e});var t=e.code,n=e.win||Dt(!1);try{if(n.eval)return n.eval(t);throw new Error("no win.eval")}catch(n){if(!e.errback)throw n;e.errback(n,t)}}var Mt=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,null,[{key:"toEventLabel",value:function(e,t,n,r,i){return je.format(e,t,r.toString(),i)}}]),t}($e),Vt=new Nt("omnitureTracker"),Pt=1e4,Ft=function(e){function t(e){var n;if(M()(this,t),n=Pe()(this,We()(t).call(this)),a()(He()(He()(n)),"_settings",void 0),a()(He()(He()(n)),"_s",void 0),a()(He()(He()(n)),"_queue",void 0),a()(He()(He()(n)),"_logMode",void 0),!e)throw new Error("Settings cannot be null or undefined");if(!e.enabled)throw new Error("Omniture tracker is not enabled.");n._settings=e,n._s=null,n._queue=[],n._logMode=!1;var r=function(e){n._logMode=!0,Vt.error("Could not find Omniture tracker.",e.toString())};return n._settings.reportSuite?(Gt("s_gi",Pt).then(function(e){n._s=e(n._settings.reportSuite),n._consumeQueue()}).catch(r),Pe()(n)):(Gt("s",Pt).then(function(e){n._s=e,n._consumeQueue()}).catch(r),n)}return ze()(t,e),P()(t,[{key:"trackPageView",value:function(){}},{key:"_consumeQueue",value:function(){var e=this;Object(B.each)(this._queue,function(t){e.trackEvent(t.name,t.data)})}},{key:"trackEvent",value:function(e,t){this._logMode?Vt.info("Unable send event '".concat(e,"' to Omniture due to logMode being enabled.")):Object(B.isEmpty)(t)?Vt.info("No data to send to Omniture due to empty properties payload."):this._s?this._s.tl(!0,"o",e,t):this._queue.push({name:e,data:t})}},{key:"_generateData",value:function(e){var t,n=e.category,r=e.name,i=e.companyId,a=e.experienceId,o=e.experienceName,c=e.sceneNumber,u=e.sceneId,s=e.data,l={},d=this._settings.common;this._settings.eventMappings&&(t=this._settings.eventMappings[r]);var p={category:n,name:r,companyId:i,experienceId:a,experienceName:o,sceneNumber:c,sceneId:u,data:s};d&&(l=Object(B.extend)(l,d)),t&&(l=Object(B.extend)(l,t)),Object(B.each)(l,function(e,t){try{var n=Object(Rt.sprintf)(e,p);n&&(l[t]=n)}catch(e){delete l[t],Vt.info("Could not eval settings due to: ".concat(e.stack))}});var g=Ct()(l);return g.length&&(l.linkTrackVars=g.join()),t&&t.events&&(l.linkTrackEvents=t.events),l}},{key:"trackExperienceEvent",value:function(e){var t=e.category,n=e.name,r=e.companyId,i=e.experienceId,a=e.experienceName,o=e.sceneNumber,c=e.sceneId,u=e.data,s=this._generateData({category:t,name:n,companyId:r,experienceId:i,experienceName:a,sceneNumber:o,sceneId:c,data:u});this.trackEvent(n,s)}}]),t}(Mt),Wt=n(74),Ut=n.n(Wt),zt=function(){return"undefined"!=typeof window},Bt=function(){return zt()&&window.navigator.userAgent.indexOf("Edge")>-1},Ht=function(){return zt()&&(window.navigator.userAgent.indexOf("MSIE")>-1||window.navigator.userAgent.indexOf("Trident")>-1)},Xt="__zmags_zpaq",qt=function(e){function t(e){var n,r=e.siteID,i=e.trackingScriptUrl,o=e.trackerUrl,c=e.matomoTrackerFullEnabled,u=e.viewerBaseUrl,s=e.experience,l=e.imageErrorSampleRate,d=void 0===l?0:l;if(M()(this,t),n=Pe()(this,We()(t).call(this)),a()(He()(He()(n)),"_trackingScriptUrl",void 0),a()(He()(He()(n)),"_iframeWindow",void 0),a()(He()(He()(n)),"_matomoTrackerFullEnabled",void 0),a()(He()(He()(n)),"_trackerUrl",void 0),a()(He()(He()(n)),"_viewerBaseUrl",void 0),a()(He()(He()(n)),"_experience",void 0),a()(He()(He()(n)),"_imageErrorSampleRate",void 0),!r||!i||!o)throw new Error("SiteID, TrackingScriptUrl and TrackerUrl cannot be null or undefined");n._trackerUrl=o,n._trackingScriptUrl=i,n._matomoTrackerFullEnabled=c,n._viewerBaseUrl=u,n._experience=s,n._imageErrorSampleRate=d;var p=document.getElementsByClassName(Xt);if(p[0]){var g=p[0];n._iframeWindow=g.contentWindow}else n._iframeWindow=t.initializeSnippet(n._trackingScriptUrl,n._matomoTrackerFullEnabled,n._trackerUrl,n._viewerBaseUrl,n._experience,n._imageErrorSampleRate);return n}return ze()(t,e),P()(t,null,[{key:"initializeSnippet",value:function(e,t,n,r,i,a){var o=document.createElement("iframe");o.setAttribute("src","about:blank"),o.setAttribute("class",Xt),o.style.display="none",document.body.appendChild(o);var c=o.contentWindow,u=c&&c.document;u.open();var s='<script type="text/javascript">\n                (function(){\n                    // Matomo will process the array if there are events before loading\n                    window._zpaq = window._zpaq || [];\n                    window._companySettings = '.concat(Ut()({matomoTrackerFullEnabled:t,matomoTrackingUrl:n,viewerBaseUrl:r,experience:i,imageErrorSampleRate:a}),";\n                    var analytics = {};\n                    // If the snippet was invoked already show an error.\n                    if (analytics.invoked) {\n                      if (window.console && console.error) {\n                        console.error('Matomo snippet included twice.');\n                      }\n                      return;\n                    }\n                \n                    // Invoked flag, to make sure the snippet\n                    // is never invoked twice.\n                    analytics.invoked = true;\n        \n                    // Define a method to load Analytics.js from our CDN,\n                    // and that will be sure to only ever load it once.\n                    analytics.load = function(){\n                      // Create an async script element.\n                      var script = document.createElement('script');\n                      script.type = 'text/javascript';\n                      script.defer = true;\n                      script.src = '").concat(e,"';\n                \n                      // Insert our script next to the first script element.\n                      var first = document.getElementsByTagName('script')[0];\n                      first.parentNode.insertBefore(script, first);\n                    };\n        \n                    analytics.load();\n                    \n                  })();\n              <\/script>");return u.write(s),u.close(),c}}]),P()(t,[{key:"_getTracker",value:function(){return this._iframeWindow._zpaq}},{key:"_invokeTrackEvent",value:function(){var e=Qe()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._getTracker().push(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"trackPageView",value:function(){}},{key:"trackEvent",value:function(e,t){var n={name:e,companyId:t.companyId,groupId:t.groupId};this._invokeTrackEvent(n)}},{key:"trackWidgetViewedEvent",value:function(e){var t={category:e.category,name:e.name,companyId:e.companyId,experienceId:e.experienceId,sceneNumber:e.sceneNumber,sceneId:e.sceneId,data:e.data,widgetId:e.widgetId};this._invokeTrackEvent(t)}},{key:"trackExperienceEvent",value:function(e){var t={category:e.category,name:e.name,companyId:e.companyId,experienceId:e.experienceId,sceneNumber:e.sceneNumber,sceneId:e.sceneId,data:e.data,actionId:e.actionId,widgetId:e.widgetId,imageErrorData:e.imageErrorData};this._invokeTrackEvent(t)}}]),t}(Mt);function Jt(e){var t=e.companySettings,n=e.eventLabelFormatter,r=void 0===n?new je:n,i=e.experience;if(!t.analyticsEnabled)return[];var a=[],o=t.matomoTrackerEnabled,c=t.matomoTrackingUrl,u=t.matomoTrackerFullEnabled,s=t.isUsingUuids,l=t.imageErrorSampleRate;te.matomoConfig&&o&&c&&s&&a.push(new qt(S()({},te.matomoConfig,{trackerUrl:c,viewerBaseUrl:te.viewerBaseUrl,matomoTrackerFullEnabled:u,experience:i,imageErrorSampleRate:l})));var d=t.googleAnalyticsId;d&&a.push(new At(d,r));var p=t.segmentIoApiKey;p&&a.push(new _t(p));var g=t.omniture;return g&&g.enabled&&a.push(new Ft(g)),a}var Yt=new Nt("ViewerEvents"),Kt=function(){function e(t){M()(this,e),a()(this,"_trackers",void 0),this._trackers=t}return P()(e,[{key:"getCategory",value:function(){return"Zmags experience interaction"}},{key:"_composeEventData",value:function(e){var t=e.descriptor,n=e.experienceId,r=e.experienceName,i=e.companyId,a=e.sceneId,o=e.sceneNumber,c=e.action,u=e.widgetId,s=e.imageErrorData,l=e.analytics,d=this.getName(t,c),p=this.getParameters(t,c),g=this.getCategory();return S()({name:d,category:g,companyId:i,experienceId:n,experienceName:r,sceneId:a,sceneNumber:o,widgetId:u,imageErrorData:s,analytics:l},p)}},{key:"dispatch",value:function(e){var t=e.descriptor,n=e.experienceId,r=e.experienceName,i=e.companyId,a=e.sceneId,o=e.sceneNumber,c=e.action,u=e.widgetId,s=e.imageErrorData,l=e.analytics,d=this._composeEventData({descriptor:t,experienceId:n,experienceName:r,companyId:i,sceneId:a,sceneNumber:o,action:c,widgetId:u,imageErrorData:s,analytics:l});Yt.info("Sending experience event to trackers",d.toString()),this.trackFn(d)}},{key:"trackers",set:function(e){this._trackers=e}}]),e}(),Qt=new Nt("CombinedGroupEvents"),Zt=function(){function e(t){M()(this,e),a()(this,"_trackers",void 0),this._trackers=t}return P()(e,[{key:"getCategory",value:function(){return"Zmags Combined Group"}},{key:"dispatch",value:function(e){Qt.info("Sending combined group event to trackers",e.toString()),this.trackFn(e)}},{key:"trackers",set:function(e){this._trackers=e}}]),e}(),$t=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return it}},{key:"getParameters",value:function(e){return e.data=this._determineNextScene(e),e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}},{key:"_determineNextScene",value:function(e){if(e.target){var t=W()(e.target);if(!isNaN(t))return"Scene ".concat(t);console.error("Scene number ".concat(t," is not a number."))}}}]),t}(Kt),en=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return ot}},{key:"getParameters",value:function(e){return{data:"".concat(this.getName(),"-").concat(e.productId),actionId:e.actionId,widgetId:e.widgetId}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),tn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return st}},{key:"getParameters",value:function(e){var t=e.imageId,n=e.data,r=e.sourceType,i=t;return r&&(i="".concat(r,"-").concat(t)),{imageId:i,data:n}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackImageViewedEvent&&t.trackImageViewedEvent(e)})}}]),t}(Kt),nn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(e){switch("string"==typeof e.data?e.data:e.data.type){case"button":return"Button Widget Viewed";case"demandware":return"SFCC Widget Viewed";case"embed":return"Embed Widget Viewed";case"image":return"Image Widget Viewed";case"line":return"Line Widget Viewed";case"link":return"Link Widget Viewed";case"next-scene":return"Next Scene Widget Viewed";case"previous-scene":return"Previous Scene Widget Viewed";case"scene-navigator":return"Scene Navigator Widget Viewed";case"shape":return"Shape Widget Viewed";case"social-sharing":return"Social Sharing Widget Viewed";case"text":return"Text Widget Viewed";case"youtube":return"Youtube Widget Viewed";case"ProductWidget":return"Product Widget Viewed"}}},{key:"getParameters",value:function(e){return e}},{key:"getCategory",value:function(){return"Zmags Widget View"}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackWidgetViewedEvent&&t.trackWidgetViewedEvent(e)})}}]),t}(Kt),rn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return ut}},{key:"getParameters",value:function(e){return{data:{context:e.context,url:e.url,widgetId:e.widgetId}}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),an=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return nt}},{key:"getParameters",value:function(e){return{data:e.url,actionId:e.actionId,widgetId:e.widgetId}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),on=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return at}},{key:"getParameters",value:function(e){return e.url&&(e.data=e.url),e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),cn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return rt}},{key:"getParameters",value:function(e){return e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),un=(n(206),function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return et}},{key:"getParameters",value:function(e){if(e.data){var t=e.data;e.data=this._formatDataForLabel(t)}return e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}},{key:"_formatDataForLabel",value:function(e){var t="".concat(e.name,":");return e.parameters&&(Ct()(e.parameters).forEach(function(n){t+="".concat(n,"=").concat(e.parameters[n],"&")}),t.endsWith("&")&&(t=t.slice(0,-1))),t}}]),t}(Kt)),sn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return tt}},{key:"getParameters",value:function(){return{data:null}}},{key:"_composeEventData",value:function(e){var n=e.descriptor,r=e.experienceId,i=e.experienceName,a=e.companyId;e.sceneId,e.sceneNumber,e.action;return qe()(We()(t.prototype),"_composeEventData",this).call(this,{descriptor:n,experienceId:r,experienceName:i,companyId:a})}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),ln=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return Et}},{key:"getParameters",value:function(){return{}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt),dn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return yt}},{key:"trackFn",value:function(e){var t=this;this._trackers.forEach(function(n){n.trackEvent(t.getName(),e)})}}]),t}(Zt),pn=function(e){function t(e){return M()(this,t),Pe()(this,We()(t).call(this,e))}return ze()(t,e),P()(t,[{key:"getName",value:function(){return ct}},{key:"getParameters",value:function(e){return{data:"".concat(this.getName(),"-").concat(e.productId)}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Kt);function gn(e,t,n,r){var i=t.experienceId,a=t.companyId,o=t.experienceName,c=t.descriptor,u=t.sceneId,s=t.sceneNumber,l=t.action,d=t.widgetId,p=t.imageErrorData,g=t.analytics,f=null;switch(e){case rt:case et:case pt:f=l&&"js"===l.type?new cn(r):new un(r);break;case tt:f=new sn(r);break;case ct:f=new pn(r);break;case ot:case gt:f=new en(r);break;case at:case lt:f=new on(r);break;case nt:case dt:f=new an(r);break;case it:case ft:f=new $t(r);break;case ut:case mt:f=new rn(r);break;case st:case ht:n&&(f=new tn(r));break;case vt:f=new nn(r);break;case Et:f=new ln(r)}if(f){var m={descriptor:c,companyId:a,experienceId:i,experienceName:o,sceneId:u,sceneNumber:s,widgetId:d,imageErrorData:p,analytics:g};f.dispatch(m)}}function fn(e,t,n){var r=null;switch(e){case yt:r=new dn(n)}r&&r.dispatch(t)}var mn,hn=n(21),vn={info:function(){},verbose:function(){}},En=function(e,t){return regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return vn.verbose("Setting up watcher for ".concat(e)),n.next=3,Object(Te.take)(e);case 3:r=n.sent;case 4:if(r===k.END){n.next=12;break}return n.next=7,Object(Te.call)(t,r);case 7:return n.next=9,Object(Te.take)(e);case 9:r=n.sent,n.next=4;break;case 12:case"end":return n.stop()}},n,this)})},yn=[],wn=function(e,t,n,r,i,a,o){return{companyId:e,experienceId:t,descriptor:r,sceneNumber:n,experienceName:i,widgetId:a,analytics:o}},bn=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:r=e.sent,i=t.payload,a=i.widget,o=i.sceneNumber,n&&(c=wn(n.companyId,r,o,{data:a.properties,widgetId:a.properties.uuid}),gn(vt,c,n.imageViewedEventsEnabled,yn));case 8:case"end":return e.stop()}},e,this)}),xn=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s,l,d,p,g,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,i=(r=n||{}).companyId,a=void 0===i?"":i,o=r.imageViewedEventsEnabled,c=void 0!==o&&o,e.next=6,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 6:return u=e.sent,s=t.payload,l=s.navigationAction,d=s.sceneNumber,p=s.widgetId,g=s.analytics,e.next=10,Object(Te.select)(function(e){return e.viewer.experiences[u]});case 10:f=e.sent,gn(it,wn(a,u,d,{actionId:l.id,widgetId:p,sceneNumber:d,target:f.currentSceneNumber.toString()},f.model.name,void 0,g),c,yn);case 12:case"end":return e.stop()}},e,this)}),In=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:return r=e.sent,e.next=8,Object(Te.select)(function(e){return e.viewer.experiences[r]});case 8:i=e.sent,a=t.payload,o=a.link,c=a.sceneNumber,u=a.widgetId,s=a.analytics,(l=wn(n.companyId,r,c,{actionId:o.id,url:o.url,widgetId:u},i.model.name,void 0,s)).descriptor.url=t.payload.link.url,gn(nt,l,n.imageViewedEventsEnabled,yn);case 13:case"end":return e.stop()}},e,this)}),An=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:return r=e.sent,i=t.payload,a=i.js,o=i.sceneNumber,c=i.widgetId,u=i.analytics,e.next=9,Object(Te.select)(function(e){return e.viewer.experiences[r]});case 9:s=e.sent,gn(et,wn(n.companyId,r,o,{actionId:a.id,widgetId:c},s.model.name,void 0,u),n.imageViewedEventsEnabled,yn);case 11:case"end":return e.stop()}},e,this)}),kn=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:return r=e.sent,i=t.payload,a=i.customJs,o=i.sceneNumber,c=i.widgetId,u=i.analytics,e.next=9,Object(Te.select)(function(e){return e.viewer.experiences[r]});case 9:s=e.sent,gn(et,wn(n.companyId,r,o,{actionId:a.id,data:{name:a.name,parameters:a.parameters},widgetId:c},s.model.name,void 0,u),n.imageViewedEventsEnabled,yn);case 11:case"end":return e.stop()}},e,this)}),On=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:r=e.sent,i=t.payload,a=i.clickAction,o=i.widgetId,c=i.analytics,u=a.sceneNumber,gn(ot,wn(n.companyId,r,u,{actionId:a.id,productId:a.productID,widgetId:o},void 0,void 0,c),n.imageViewedEventsEnabled,yn);case 9:case"end":return e.stop()}},e,this)}),_n=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:r=e.sent,i=t.payload,a=i.productId,o=i.sceneNumber,c=i.widgetId,gn(ct,wn(n.companyId,r,o,{productId:a,widgetId:c}),n.imageViewedEventsEnabled,yn);case 8:case"end":return e.stop()}},e,this)}),Ln=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 5:r=e.sent,i=t.payload,a=i.share,o=i.sceneNumber,c=i.widgetId,u=i.analytics,s=wn(n.companyId,r,o,{url:a.url,widgetId:c},void 0,c,u),gn(ut,s,n.imageViewedEventsEnabled,yn);case 9:case"end":return e.stop()}},e,this)}),Cn=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.lightbox,i=n.sceneNumber,a=n.widgetId,o=n.analytics,e.next=3,Object(Te.select)(function(e){return e.company.model});case 3:return c=e.sent,e.next=6,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 6:return u=e.sent,e.next=9,Object(Te.select)(function(e){return e.viewer.experiences[u]});case 9:s=e.sent,l=wn(c.companyId,u,i,{actionId:r.id,url:r.url,widgetId:a},s.model.name,void 0,o),gn(at,l,c.imageViewedEventsEnabled,yn);case 12:case"end":return e.stop()}},e,this)}),Sn=regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:if(!(e.sent&&yn.length>0)){e.next=10;break}return n=t.payload,r=n.companyId,i=n.groupId,fn(yt,{companyId:r,groupId:i},yn),e.next=8,Object(Te.put)(Object(hn.G)(t.payload));case 8:e.next=12;break;case 10:return e.next=12,Object(Te.put)(Object(hn.m)(t.payload));case 12:case"end":return e.stop()}},e,this)}),Tn=regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:if(!(e.sent&&yn.length>0)){e.next=10;break}return n=t.payload,r=n.companyId,i=n.experienceId,a=n.experienceName,gn(tt,{experienceId:i,companyId:r,experienceName:a},!1,yn),e.next=8,Object(Te.put)(Object(hn.F)(t.payload));case 8:e.next=12;break;case 10:return e.next=12,Object(Te.put)(Object(hn.k)(t.payload));case 12:case"end":return e.stop()}},e,this)}),Nn=regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){var t;return null===(t=e.viewer.experiences[n])||void 0===t?void 0:t.model});case 5:return r=e.sent,yn=Jt({companySettings:t.payload,experience:r}),e.next=9,Object(Te.select)(function(e){return e.viewer.queuedAnalyticsEvents});case 9:return i=e.sent,e.next=12,Object(Te.all)(L()(i.map(function(e){return Object(Te.put)(Object(hn.R)(e))})));case 12:return e.next=14,Object(Te.select)(function(e){return e.viewer.queuedGroupEvents});case 14:return a=e.sent,e.next=17,Object(Te.all)(L()(a.map(function(e){return Object(Te.put)(Object(T.triggerCombinedGroupAnalytics)(e))})));case 17:case"end":return e.stop()}},e,this)}),Rn=regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 2:return n=e.sent,e.next=5,Object(Te.select)(function(e){var t;return null===(t=e.viewer.experiences[n])||void 0===t?void 0:t.model});case 5:return r=e.sent,yn=Jt({companySettings:t.payload.companySettings,experience:r}),e.next=9,Object(Te.select)(function(e){return e.viewer.queuedAnalyticsEvents});case 9:return i=e.sent,e.next=12,Object(Te.all)(L()(i.map(function(e){return Object(Te.put)(Object(hn.R)(e))})));case 12:case"end":return e.stop()}},e,this)}),Dn=regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.select)(function(e){return e.company.model});case 2:if(!(t=e.sent)){e.next=16;break}return e.next=6,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 6:return n=e.sent,e.next=9,Object(Te.select)(function(e){var t;return null===(t=e.viewer.experiences[n])||void 0===t?void 0:t.model});case 9:return r=e.sent,yn=Jt({companySettings:t,experience:r}),e.next=13,Object(Te.select)(function(e){return e.viewer.queuedAnalyticsEvents});case 13:return i=e.sent,e.next=16,Object(Te.all)(L()(i.map(function(e){return Object(Te.put)(Object(hn.R)(e))})));case 16:case"end":return e.stop()}},e,this)}),Gn=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.imageErrorData,i=n.widgetId,a=n.sceneId,o=n.sceneNumber,e.next=3,Object(Te.select)(function(e){return e.company.model});case 3:return c=e.sent,e.next=6,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 6:u=e.sent,s={experienceId:u,widgetId:i,sceneId:a,sceneNumber:o,companyId:c.companyId,imageErrorData:r},gn(Et,s,c.imageViewedEventsEnabled,yn);case 9:case"end":return e.stop()}},e,this)}),jn=regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.companyId,i=n.groupId,a={groupId:i,companyId:r},!(yn.length<1)){e.next=7;break}return e.next=5,Object(Te.put)(Object(hn.m)(t.payload));case 5:e.next=8;break;case 7:fn(yt,a,yn);case 8:case"end":return e.stop()}},e,this)}),Mn=En(T.ActionTypes.TRIGGER_ANALYTICS,Tn),Vn=En(T.ActionTypes.TRIGGER_COMBINED_GROUP_ANALYTICS,Sn),Pn=En(T.ActionTypes.COMPANY_SETTINGS_LOADED,Nn),Fn=En(T.ActionTypes.COMPLEX_GROUP_LOADED,Rn),Wn=En(T.ActionTypes.VIEWER_LIGHTBOX_OPEN,Cn),Un=En(T.ActionTypes.VIEWER_CLICK_LINK,In),zn=En(T.ActionTypes.VIEWER_SCENE_NAVIGATION,xn),Bn=En(T.ActionTypes.VIEWER_SOCIAL_SHARING,Ln),Hn=En(T.ActionTypes.VIEWER_CUSTOM_JS_CLICK,kn),Xn=En(T.ActionTypes.VIEWER_JS_CLICK,An),qn=En(T.ActionTypes.VIEWER_SALESFORCE_COMMERCE,On),Jn=En(T.ActionTypes.VIEWER_SALESFORCE_WIDGET,_n),Yn=En(T.ActionTypes.VIEWER_WIDGET_VIEW,bn),Kn=En(T.ActionTypes.IMAGE_ERROR_EVENT,Gn),Qn=En(T.ActionTypes.COMBINED_GROUP_ERROR_EVENT,jn),Zn=(n(334),function(){var e=Qe()(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},vn.verbose("Making API Request to ".concat(t," with options ").concat(Ut()(n))),e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=7;break}return e.abrupt("return",r.json());case 7:throw r;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());function $n(e){return"undefined"!=typeof window&&window[e]}function er(e,t){if(t&&$n(t)&&window[t].getItem(e))return JSON.parse(window[t].getItem(e));if(!t){if($n(mn.local)&&window[mn.local].getItem(e))return JSON.parse(window[mn.local].getItem(e));if($n(mn.session)&&window[mn.session].getItem(e))return JSON.parse(window[mn.session].getItem(e))}return null}!function(e){e.local="localStorage",e.session="sessionStorage"}(mn||(mn={}));var tr,nr="".concat(te.viewerApiBaseUrl,"/api"),rr="".concat(te.editorApiBaseUrl,"/api"),ir="".concat(te.answerFileUrl),ar={headers:new Headers},or=function(e,t){return"".concat(nr,"/").concat(e,"/").concat(t)},cr=function(e,t){return"".concat(rr,"/").concat(e,"/").concat(t)},ur=function(e){return e?cr:or},sr=function(e){var t=S()({},ar);return e&&t.headers.set("Authorization","Bearer ".concat(e)),t},lr=function(){return er("zmags_login")?er("zmags_login").token:null},dr=function(e){var t=lr(),n=ur(t),r=sr(t);return Zn(n("experiences_uncached",e),r)},pr=function(e){var t=lr(),n=ur(t),r=sr(t);return Zn(n("experiences",e),r)},gr=function(e){var t=lr(),n=ur(t),r=sr(t);return Zn(n("groups",e),r)},fr=function(e,t){var n=lr(),r=sr(n);return Zn(function(e,t,n){return"".concat(nr,"/").concat(e,"/").concat(n,"/").concat(t)}("experiencesCombined",e,t),r)},mr=function(e){var t=lr(),n=ur(t),r=sr(t);return Zn(n("templates",e),r)},hr=function(e){var t=lr(),n=sr(t);return Zn(function(e,t,n,r){return r?"".concat(cr(e,t),"/").concat(n):"".concat(or(e,t),"/").concat(n)}("companies",e,"settings",t),n)},vr=function(e,t){return Zn("".concat(ir,"/").concat(t,"/").concat(e,".json"),ar)};!function(e){e.Image="Image",e.Price="Price",e.Title="Title",e.Description="Description"}(tr||(tr={}));var Er=function(e,t,n){return S()({},e,{widgets:e.widgets.map(function(e){return e.type===de.DYNAMIC_PRODUCT?yr(e,t,n):e})})},yr=function(e,t,n){var r=e.productID,i=n.products[r],a=i.description,o=i.priceValue,c=i.title,u=kr(t),s=new Ye.a;s.set(tr.Description,a),s.set(tr.Price,"".concat(u).concat(o)),s.set(tr.Title,c);var l=e.group.map(function(e){return e.type===de.TEXT?wr(e,s):e});return S()({},e,{group:l})},wr=function(e,t){return t.get(e.subtype)&&e.isDynamic?S()({},e,{text:t.get(e.subtype)}):e},br=function(e){var t=!1;return e.widgets.forEach(function(e){e.type===de.DYNAMIC_PRODUCT&&(t=!0)}),t},xr=function(e){var t=!1;return e.scenes.forEach(function(e){t=t||br(e)}),t=(t=t||br(e.overlayScene))||br(e.backgroundScene)},Ir=function(e,t){var n=e,r=e.overlayScene,i=e.backgroundScene,a=e.language;return t&&(n=S()({},e,{scenes:e.scenes.map(function(e){return Er(e,a,t)}),overlayScene:Er(r,a,t),backgroundScene:Er(i,a,t)})),n},Ar=new Ye.a([["en-US","$"]]),kr=function(e){if(Ar.has(e))return Ar.get(e);throw new Error("Unsupported Language for Product Widget")},Or=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s,l,d,p,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.experienceId,i=n.withCache,a=n.disableGroups,o=null,o=null==i||i,e.prev=3,!r){e.next=35;break}return e.next=7,Object(Te.select)(function(e){return e.viewer});case 7:if(c=e.sent,u=c.experiences[r],s=u&&u.model,u&&u.model){e.next=26;break}return e.prev=11,l=o?pr:dr,e.next=15,Object(Te.call)(l,r);case 15:return d=e.sent,e.next=18,_r(r,d);case 18:s=e.sent,e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(11),p=new Error("Experience Not Found"),e.next=26,Object(Te.put)(Object(T.signalExperienceLoadFailed)(p,r));case 26:return e.next=28,Object(Te.put)(Object(T.signalExperienceLoaded)(s));case 28:if(!s.group||a){e.next=31;break}return e.next=31,Object(Te.put)(Object(T.signalGroupLoad)(s.group.resourceId));case 31:return e.next=33,Object(Te.put)(Object(T.triggerAnalytics)({companyId:s.companyId,experienceId:s.id,experienceName:s.name}));case 33:e.next=38;break;case 35:return g=new Error("Missing Experience ID"),e.next=38,Object(Te.put)(Object(T.signalExperienceLoadFailed)(g,r));case 38:e.next=44;break;case 40:return e.prev=40,e.t1=e.catch(3),e.next=44,Object(Te.put)(Object(T.signalExperienceLoadFailed)(e.t1,r));case 44:case"end":return e.stop()}},e,this,[[3,40],[11,21]])}),_r=regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!xr(n)){e.next=12;break}return e.prev=2,e.next=5,Object(Te.call)(vr,t,n.companyId);case 5:r=e.sent,i=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i=!1;case 12:if(!i){e.next=16;break}return e.abrupt("return",Ir(n,r));case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this,[[2,9]])}),Lr=En(T.ActionTypes.EXPERIENCE_LOAD,Or),Cr=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.resourceId,i=n.withCache,!r){e.next=15;break}return e.next=4,Object(Te.select)(function(e){return e.viewer.breakpointGroups});case 4:if(a=e.sent,(o=a||new Array(0)).length){e.next=11;break}return e.next=9,Object(Te.call)(gr,r);case 9:c=e.sent,o=c.entries.filter(function(e){return e.type===m.BREAKPOINT&&!!e.value}).map(function(e){return{threshold:e.value&&e.value.threshold||0,resourceId:e.reference.resourceId,type:e.type}});case 11:return e.next=13,Object(Te.put)(Object(T.signalGroupLoaded)(o,i));case 13:e.next=18;break;case 15:return u=new Error("Missing ResourceId"),e.next=18,Object(Te.put)(Object(T.signalGroupLoadFailed)(u));case 18:case"end":return e.stop()}},e,this)}),Sr=En(T.ActionTypes.GROUP_LOAD,Cr),Tr=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,u,s,l,d,p,g,f,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.groupId,i=n.companyId,r&&i){e.next=6;break}return a=r?new Error("Missing CompanyId"):new Error("Missing GroupId"),e.next=5,Object(Te.put)(Object(T.signalComplexGroupLoadFailed)(a));case 5:return e.abrupt("return");case 6:return e.next=8,Object(Te.select)(function(e){return e.viewer.breakpointGroups});case 8:if(o=e.sent,(o||new Array(0)).length){e.next=48;break}return e.prev=11,e.next=14,Object(Te.call)(fr,r,i);case 14:for(s=e.sent,l=[],d=!0,p=!1,g=void 0,e.prev=19,f=c()(s.entries);!(d=(h=f.next()).done);d=!0)(v=h.value).type===m.BREAKPOINT&&v.value&&l.push({threshold:v.value&&v.value.threshold||0,resourceId:v.reference.resourceId,type:v.type,experience:v.reference.resource});e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),p=!0,g=e.t0;case 27:e.prev=27,e.prev=28,d||null==f.return||f.return();case 30:if(e.prev=30,!p){e.next=33;break}throw g;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return u=s.companySettings,e.next=38,Object(Te.put)(Object(T.signalComplexGroupLoaded)(l,u));case 38:e.next=48;break;case 40:return e.prev=40,e.t1=e.catch(11),e.next=44,Object(Te.put)(Object(T.signalComplexGroupLoadFailed)(e.t1));case 44:return e.next=46,Object(Te.put)(Object(T.signalCombinedGroupErrorAnalytics)({companyId:i,groupId:r}));case 46:return e.next=48,Object(Te.put)(Object(T.signalGroupLoad)(r));case 48:case"end":return e.stop()}},e,this,[[11,40],[19,23,27,35],[28,,30,34]])}),Nr=En(T.ActionTypes.COMPLEX_GROUP_LOAD,Tr),Rr=regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.payload.templateId)){e.next=10;break}return e.next=4,Object(Te.call)(mr,n);case 4:return r=e.sent,i=r.content,e.next=8,Object(Te.put)(Object(T.signalTemplateLoaded)(i,n));case 8:e.next=13;break;case 10:return a=new Error("Missing ResourceId"),e.next=13,Object(Te.put)(Object(T.signalTemplateLoadFailed)(a));case 13:case"end":return e.stop()}},e,this)}),Dr=En(T.ActionTypes.TEMPLATE_LOAD,Rr),Gr=regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.experienceId,i=n.withCache,a=n.disableGroups,e.next=3,Object(Te.spawn)(Vr,r);case 3:return e.next=5,Object(Te.put)(Object(T.signalExperienceLoad)(r,a,i));case 5:case"end":return e.stop()}},e,this)}),jr=En(T.ActionTypes.EXPERIENCE_ACTIVATE,Gr),Mr=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.model,r={width:n.width,height:n.height},e.next=4,Object(Te.put)(Object(T.signalViewportChange)(r,r));case 4:return e.next=6,Object(Te.put)(Object(T.signalExperienceContainerChange)(r));case 6:return e.next=8,Object(Te.put)(k.END);case 8:case"end":return e.stop()}},e,this)}),Vr=(En(T.ActionTypes.EXPERIENCE_ACTIVATED,Mr),regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n="";case 1:if(t===n){e.next=18;break}return e.next=4,Object(Te.race)({success:Object(Te.take)(T.ActionTypes.EXPERIENCE_LOADED),fail:Object(Te.take)(T.ActionTypes.EXPERIENCE_LOAD_FAILED)});case 4:if(r=e.sent,i=r.success?r.success.payload:r.fail.payload,(n=i.experienceId)!==t){e.next=14;break}return e.next=10,Object(Te.select)(function(e){return e.viewer});case 10:if(e.sent.activeExperienceId!==t){e.next=14;break}return e.next=14,Object(Te.put)(Object(T.signalExperienceActivated)(t,i.model));case 14:if(r!==k.END){e.next=16;break}return e.abrupt("break",18);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this)})),Pr=regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Te.race)({change:Object(Te.take)(T.ActionTypes.EXPERIENCE_SCENE_CHANGE),activated:Object(Te.take)(T.ActionTypes.EXPERIENCE_ACTIVATED),pause:Object(Te.take)(T.ActionTypes.EXPERIENCE_MOUSE_ENTER),trigger:Object(k.delay)(t)});case 2:if(!(r=o.sent).change&&!r.activated){o.next=7;break}return o.abrupt("return");case 7:if(!r.pause){o.next=16;break}return o.next=10,Object(Te.race)({leave:Object(Te.take)(T.ActionTypes.EXPERIENCE_MOUSE_LEAVE),change:Object(Te.take)(T.ActionTypes.EXPERIENCE_SCENE_CHANGE)});case 10:if(!o.sent.leave){o.next=14;break}return o.next=14,Object(Te.spawn)(e,t,n);case 14:o.next=25;break;case 16:if(!r.trigger){o.next=25;break}return o.next=19,Object(Te.select)(function(e){return e.viewer.experiences[n]});case 19:return i=o.sent,a=Object(T.getNextSceneNumber)(p.a.FORWARDS,i),o.next=23,Object(Te.put)(Object(T.signalExperienceSceneChange)(n,a,p.a.FORWARDS));case 23:return o.next=25,Object(Te.spawn)(e,t,n);case 25:case"end":return o.stop()}},e,this)}),Fr=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.payload.model).scenes.length>1&&!1==!!window.ZMAGS_DisableAnimations)){e.next=6;break}if(!((r=n.autoPlayDelay)>0)){e.next=6;break}return e.next=6,Object(Te.spawn)(Pr,r,n.id);case 6:case"end":return e.stop()}},e,this)}),Wr=En(T.ActionTypes.EXPERIENCE_ACTIVATED,Fr),Ur=En(T.ActionTypes.TEMPLATE_LOADED,Fr),zr=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.delay)(0);case 2:return e.next=4,Object(Te.put)(Object(T.signalExperienceInitialLoadEnd)());case 4:case"end":return e.stop()}},e,this)}),Br=En(T.ActionTypes.EXPERIENCE_ACTIVATED,zr),Hr=En(T.ActionTypes.TEMPLATE_LOADED,zr),Xr=regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.take)(T.ActionTypes.EXPERIENCE_LOADED);case 2:return t=e.sent,e.next=5,Object(Te.select)(function(e){return e.company});case 5:if((n=e.sent).model&&null!==n.model.id){e.next=22;break}return r=t.payload.model.companyId,e.next=10,Object(Te.put)(Object(hn.n)(r));case 10:return e.prev=10,e.next=13,Object(Te.call)(hr,r);case 13:return i=e.sent,e.next=16,Object(Te.put)(Object(hn.p)(i));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(10),e.next=22,Object(Te.put)(Object(hn.o)(e.t0));case 22:case"end":return e.stop()}},e,this,[[10,18]])}),qr=(n(207),n(216)),Jr=n.n(qr);n(337);function Yr(){switch(!0){case!!navigator.platform.match(/iPhone|iPod|iPad/):return"IOS"}return null}var Kr=regeneratorRuntime.mark($r),Qr=regeneratorRuntime.mark(ei),Zr=320;function $r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.fork)(Jr.a,"device-orientation-observer",["resize",{passive:!0}],{onEvent:ei});case 2:case"end":return e.stop()}},Kr,this)}function ei(e,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,"IOS"!==Yr()){e.next=4;break}return e.next=4,Object(k.delay)(Zr);case 4:return e.next=6,Object(Te.put)(Object(T.signalViewportChange)({height:n.innerHeight,width:n.innerWidth},{height:n.outerHeight,width:n.outerWidth}));case 6:case"end":return e.stop()}},Qr,this)}var ti=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.takeLatest)(T.ActionTypes.VIEWPORT_CHANGE,ri);case 2:case"end":return e.stop()}},e,this)}),ni=regeneratorRuntime.mark(function e(t,n,r){var i,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=11;break}return i=n.sort(function(e,t){return t.threshold-e.threshold}),a=i.filter(function(e){return e.threshold<=t}),o=a.length>0?a:i,c=o[0].resourceId,e.next=7,Object(Te.select)(function(e){return e.viewer.activeExperienceId});case 7:if(u=e.sent,c===u){e.next=11;break}return e.next=11,Object(Te.put)(Object(hn.b)(c,!1,r));case 11:case"end":return e.stop()}},e,this)}),ri=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.width,e.next=3,Object(Te.select)(function(e){return Ct()(e.viewer.breakpointGroups).map(function(t){return e.viewer.breakpointGroups[t]})});case 3:return r=e.sent,e.next=6,ni(n,r);case 6:case"end":return e.stop()}},e,this)}),ii=regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.breakpointGroups,i=n.withCache,e.next=3,Object(Te.select)(function(e){return e.page.viewportWidth});case 3:return a=e.sent,e.next=6,ni(a,r,i);case 6:case"end":return e.stop()}},e,this)}),ai=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.takeLatest)(T.ActionTypes.GROUP_LOADED,ii);case 2:case"end":return e.stop()}},e,this)}),oi=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.takeLatest)(T.ActionTypes.COMPLEX_GROUP_LOADED,ii);case 2:case"end":return e.stop()}},e,this)}),ci=(n(183),n(338),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)for(var r=0,i=Ct()(t);r<i.length;r++){var a=i[r],o=t[a];if(Re(o=null==o?"":o.toString())&&!n)return"";e=e.replace(new RegExp("#{"+a+"}","g"),o)}return e}),ui=/([^a-zA-Z0-9_\- ])/,si=/([^a-zA-Z0-9_.*+\-:\/\\=?#&])/,li=function(e,t){try{t&&Object(B.each)(t,function(e,t){var n=function(e,t){var n=ui.exec(e);return n?"Invalid parameter name: '".concat(n[1],"' in '").concat(e,"'"):Re(e)?"Parameter name cannot be empty":t&&(n=si.exec(t))?"Invalid parameter value: '".concat(n[1],"' in ").concat(t):null}(t,e);if(n)throw n});var n=ci(e,t);try{new Function(n)}catch(e){throw new Error(e)}if(JSON.parse(Ut()({code:n})).code!==n)throw new Error("Code cannot be serialized to/from json.");return null}catch(e){return e}},di={type:ye.CustomJs},pi=function(e){var t;e.data&&(t=e.data).isTrusted&&jt(t.code)},gi=function(){return window.location!==window.top.location},fi=function(e){window.top.postMessage({code:e,isTrusted:!0},"*")},mi=function(){function e(){M()(this,e)}return P()(e,null,[{key:"openQuickView",value:function(t){var n=t.productID,r=t.experienceName,i=t.currentScene,a=window.top;this._isIframed()?a.postMessage({ZMAGS_QuickView:!0,quickViewPayload:t},"*"):e._standardQuickViewExists()?e._openStandardQuickView(n,r,i):e._customQuickViewExists()&&e._openCustomQuickView(n,r,i)}},{key:"_parseMessage",value:function(t){if(t.data.ZMAGS_QuickView){var n=t.data.quickViewPayload;e.openQuickView(n)}}},{key:"_isIframed",value:function(){var e=window.top;return window.location!==e.location}},{key:"_acceptQuickViewFromChildren",value:function(){var t=window.top;this._isIframed()||t.ZMAGS_QuickViewRegistered||(t.addEventListener("message",e._parseMessage),t.ZMAGS_QuickViewRegistered=!0)}},{key:"_standardQuickViewExists",value:function(){return void 0!==window.top.app&&void 0!==window.top.app.quickView&&"function"==typeof window.top.app.quickView.show}},{key:"_customQuickViewExists",value:function(){return void 0!==window.top.__zmags&&void 0!==window.top.__zmags.demandware&&void 0!==window.top.__zmags.demandware.quickview&&"function"==typeof window.top.__zmags.demandware.quickview.show}}]),e}();a()(mi,"_formatParameters",function(e,t,n){return t=encodeURIComponent(t),"?format=ajax&zmagssrc=creator&experienceName=".concat(t,"&experienceScene=").concat(n,"&pid=").concat(e)}),a()(mi,"_openStandardQuickView",function(e,t,n){var r=window.top,i=r.app.urls.getProductUrl+mi._formatParameters(e,t,n);r.app.quickView.show({source:"quickview",url:i})}),a()(mi,"_openCustomQuickView",function(e,t,n){var r=window.top,i=r.Urls.getProductUrl+mi._formatParameters(e,t,n);r.__zmags.demandware.quickview.show({source:"quickview",url:i})});var hi=te.cncViewLiteBaseUrl,vi=function(e){var t=e.split("#"),n=t[t.length-1];return t.length>1?"".concat(hi).concat(n):e},Ei=regeneratorRuntime.mark(bi),yi=regeneratorRuntime.mark(function e(t){var n,r,i,a,o,c,u,s,l,d,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.action,i=n.analytics,a=n.widgetAction,o=n.sceneNumber,c=n.uuid,!r||!a){e.next=56;break}e.t0=r.type,e.next=e.t0===ye.LinkAction?5:e.t0===ye.SalesforceCommerce?8:e.t0===ye.Lightbox?12:e.t0===ye.SceneNavigation?20:e.t0===ye.Js?40:e.t0===ye.CustomJs?44:55;break;case 5:return e.next=7,Object(Te.put)(Object(T.clickLinkAction)(r,o,c,i));case 7:return e.abrupt("break",56);case 8:return mi.openQuickView({productID:r.productID,currentScene:o}),e.next=11,Object(Te.put)(Object(T.salesforceCommerceAction)(r,o,c));case 11:return e.abrupt("break",56);case 12:if(r.url){e.next=16;break}return e.next=15,Object(Te.put)(Object(T.SignalErrorAction)(new Error("No lightbox in action")));case 15:return e.abrupt("return",e.sent);case 16:return u=S()({},r,{url:vi(r.url)}),e.next=19,Object(Te.put)(Object(T.openLightboxAction)(u,o,c,i));case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,Object(Te.select)(function(e){return e.viewer});case 22:d=e.sent,g=d.experiences[d.activeExperienceId],e.t1=r.target,e.next="next"===e.t1?27:"previous"===e.t1?30:33;break;case 27:return s=p.a.FORWARDS,l=Object(T.getNextSceneNumber)(s,g),e.abrupt("break",35);case 30:return s=p.a.BACKWARDS,l=Object(T.getNextSceneNumber)(s,g),e.abrupt("break",35);case 33:return l=r.target,e.abrupt("break",35);case 35:return e.next=37,Object(Te.put)(Object(T.signalExperienceSceneChange)(d.activeExperienceId,l,s));case 37:return e.next=39,Object(Te.put)(Object(T.trackSceneNavigationAction)(r,o,c,i));case 39:return e.abrupt("break",56);case 40:return e.next=42,Object(Te.put)(Object(T.JsClickAction)(r,o,c,i));case 42:return r.code&&(gi()?fi(r.code):jt(r.code)),e.abrupt("break",56);case 44:return e.next=46,Object(Te.put)(Object(T.customJsClickAction)(r,o,c,i));case 46:e.prev=46,null===li(r.code,r.parameters)&&(gi()?fi(ci(r.code,r.parameters)):jt(ci(r.code,r.parameters))),e.next=54;break;case 50:return e.prev=50,e.t2=e.catch(46),e.next=54,Object(Te.put)(Object(T.SignalErrorAction)(new Error("Code not runnable")));case 54:case 55:return e.abrupt("break",56);case 56:case"end":return e.stop()}},e,this,[[46,50]])}),wi=En(T.ActionTypes.VIEWER_WIDGET_CLICK,yi);function bi(e,t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Te.select)(function(e){return e.viewer});case 2:return r=c.sent,i=t||r.activeExperienceId,a=e.payload.sceneNumber,void 0===n&&(o=r.experiences[i],n=o&&o.currentSceneNumber>a?p.a.BACKWARDS:p.a.FORWARDS),c.next=8,Object(Te.put)(Object(T.signalExperienceSceneChange)(i,Number(a),n));case 8:return c.next=10,Object(Te.put)(Object(T.trackSceneNavigationAction)(e,a,e.widgetId));case 10:case"end":return c.stop()}},Ei,this)}var xi=En(T.ActionTypes.VIEWER_SCENE_NAVIGATOR_WIDGET_CLICK,bi),Ii=[Lr,Sr,Nr,jr,Dr,Xr,Mn,Vn,ai,oi],Ai=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Te.all)([Ii.map(function(e){return e()})].concat([$r(),ti(),wi(),xi(),Pn(),Fn(),Dn(),Fn(),Wn(),Un(),Hn(),Xn(),qn(),Jn(),Bn(),zn(),Yn(),Kn(),Qn(),Wr(),Br(),Ur(),Hr()]));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}),ki=n(110),Oi=n.n(ki),_i=(n(148),n(217));function Li(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function Ci(e){return e*(Math.PI/180)}function Si(e,t){return{x:Math.round(e.x*Math.cos(Ci(t))-e.y*Math.sin(Ci(t))),y:Math.round(e.x*Math.sin(Ci(t))+e.y*Math.cos(Ci(t)))}}function Ti(e,t,n,r,i,a,o,c){var u=!1;return(u=(u=(u=u||Ni(e,t,n,r,i,a,i,a+c))||Ni(e,t,n,r,i+o,a,i+o,a+c))||Ni(e,t,n,r,i,a,i+o,a))||Ni(e,t,n,r,i,a+c,i+o,a+c)}function Ni(e,t,n,r,i,a,o,c){var u=((o-i)*(t-a)-(c-a)*(e-i))/((c-a)*(n-e)-(o-i)*(r-t)),s=((n-e)*(t-a)-(r-t)*(e-i))/((c-a)*(n-e)-(o-i)*(r-t));return u>=0&&u<=1&&s>=0&&s<=1}var Ri=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M()(this,e),this.width=t,this.height=n}return P()(e,null,[{key:"zero",get:function(){return new e}}]),P()(e,[{key:"shrinkToAspectRatio",value:function(t){var n=this.aspectRatio,r=this.width,i=this.height;return t>n?(r=this.width,i=Li(this.width/t,2)):t<n&&(i=this.height,r=Li(this.height*t,2)),new e(r,i)}},{key:"equals",value:function(t){return!!t&&(t===this||t instanceof e&&(this.width===t.width&&this.height===t.height))}},{key:"clone",value:function(){return new e(this.width,this.height)}},{key:"aspectRatio",get:function(){return this.width/this.height}}]),e}(),Di=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M()(this,e),this.x=t,this.y=n},Gi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(M()(this,e),a()(this,"point",void 0),a()(this,"_size",void 0),t instanceof Di)return this.point=t,void(this._size=n);this.point=new Di(t,n),this._size=r instanceof Ri?r:new Ri(r,i)}return P()(e,null,[{key:"zero",get:function(){return new e(0,0,0,0)}}]),P()(e,[{key:"x",get:function(){return this.point.x}},{key:"y",get:function(){return this.point.y}},{key:"left",get:function(){return this.point.x}},{key:"top",get:function(){return this.point.y}},{key:"width",get:function(){return this._size.width}},{key:"height",get:function(){return this._size.height}},{key:"size",get:function(){return this._size.clone()}}]),e}(),ji=n(30),Mi=n.n(ji),Vi=n(16),Pi=n.n(Vi),Fi=n(14),Wi=(n(355),n(9)),Ui=function(e){return e.duration/1e3},zi=n(37),Bi=new Ye.a;zi.Ease&&Wi.e&&Wi.g&&Wi.b&&Wi.c&&Wi.a&&(Bi.set(xe.LINEAR,Wi.e.easeIn),Bi.set(xe.EASE_IN,Wi.g.easeIn),Bi.set(xe.EASE_OUT,Wi.g.easeOut),Bi.set(xe.EASE_IN_OUT,Wi.g.easeInOut),Bi.set(xe.BOUNCE,Wi.b.easeOut),Bi.set(xe.ELASTIC,Wi.c.easeOut),Bi.set(xe.BACK_OUT,Wi.a.easeOut));var Hi=function(e,t){return S()({},t,{ease:(n=e.easing,Bi.get(n))});var n},Xi=new Ye.a;Xi.set(be.FADE,function(e,t){return Wi.i.from(e,Ui(t),Hi(t,{opacity:0}))}),Xi.set(be.FADE_OUT,function(e,t){return Wi.i.to(e,Ui(t),Hi(t,{opacity:0}))});var qi=function(e,t,n,r){var i;switch(e){case"top":i=t>0?{top:"".concat(-t,"%")}:{top:"-100vh"};break;case"bottom":i={top:"100%"};break;case"left":i={left:"".concat(-screen.width+n,"px")};break;case"right":i=r?{left:"".concat(screen.width+r.clientWidth,"px")}:{left:"".concat(screen.width,"px")};break;default:throw new Error("Unknown slide direction: ".concat(e))}return i=S()({},i,{immediateRender:!1,lazy:!0}),r&&(r.style.visibility="hidden",i=S()({},i,{onStartParams:[r],onStart:function(e){e.style.visibility="visible"}})),i};Xi.set(be.SLIDE,function(e,t,n){var r=t.direction,i=n.width,a=qi(r,100,i,e);return Wi.i.from(e,Ui(t),Hi(t,a))}),Xi.set(be.SLIDE_OUT,function(e,t,n){var r=t.direction,i=n.height,a=n.width,o=qi(r,i,a);return Wi.i.to(e,Ui(t),Hi(t,o))}),Xi.set(be.ZOOM_IN,function(e,t){return Wi.i.fromTo(e,Ui(t),{scale:0},{scale:1})}),Xi.set(be.ZOOM_OUT,function(e,t){return Wi.i.to(e,Ui(t),Hi(t,{scale:0}))}),Xi.set(be.MOVE,function(e,t){var n=t,r=n.horizontalMove,i=n.verticalMove;return Wi.i.to(e,Ui(t),Hi(t,{left:"+=".concat(r,"%"),top:"+=".concat(i,"%")}))});var Ji=Xi,Yi=new Ye.a;Yi.set(Ie.SCALE,function(e,t){return zi.b.to(e,Ui(t),{scale:t.scale})}),Yi.set(Ie.OPACITY,function(e,t){return zi.b.to(e,Ui(t),{opacity:t.opacity})}),Yi.set(Ie.ROTATE,function(e,t){var n,r=t,i=r.rotation,a=r.attentionMode,o=r.rotationDirection;return n="angle"===a?i<0?"-=".concat(i):"+=".concat(i):"cw"===o?"+=360":"-=360",zi.b.to(e,Ui(t),{rotation:n})}),Yi.set(Ie.PULSE,function(e,t){var n,r,i=t.value;switch(i){case 1:n=1.1,r=1;break;case 2:n=1.2,r=1.2;break;case 3:n=1.4,r=1;break;case 4:n=1.6,r=.8;break;case 5:n=2,r=.6;break;default:throw new Error("Model scale '".concat(i,"' not recognized."))}return zi.b.to(e,r,{scale:n})}),Yi.set(Ie.IMAGE_TOGGLE,function(e){var t=e.childNodes[0],n=t.childNodes[0].hasChildNodes()?t.childNodes[0]:t,r=n.childNodes[0],i=2===n.childNodes.length?n.childNodes[1]:n.childNodes[2];return[zi.b.to(r,.3,{autoAlpha:0,position:"absolute"}),zi.b.fromTo(i,.3,{autoAlpha:0},{autoAlpha:1})]});var Ki=Yi,Qi=function(){function e(){M()(this,e)}return P()(e,null,[{key:"createActivatable",value:function(e,t){var n=t.animations,r=t.effects,i=t.width,a=t.height,o=new Wi.h;return n.forEach(function(t){if(Ji.has(t.type)){var n=Ji.get(t.type);o.add(n(e,t,{width:i,height:a}),t.delay/1e3)}}),r.filter(function(e){return e.triggerType===Ae.ATTENTION&&Ki.has(e.type)}).forEach(function(t){var n=Ki.get(t.type)(e,t);(z()(n)?n:[n]).forEach(function(e){o.add(e.repeat(-1).yoyo(!0).timeScale(2),0)})}),o.pause(),o}},{key:"createHover",value:function(e,t){var n=t.effects.find(function(e){return e.triggerType===Ae.HOVER});if(n&&Ki.has(n.type)){var r,i=Ki.get(n.type),a=new Wi.h;return a.pause(),n.type===Ie.SCALE?(r=S()({},n),t.scale&&(r.scale*=t.scale.x)):r=S()({},n),a.add(i(e,r))}}}]),e}(),Zi=function(e){return function(t){function n(){var e,t;M()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Pe()(this,(e=We()(n)).call.apply(e,[this].concat(i))),a()(He()(He()(t)),"state",{inViewport:!0}),a()(He()(He()(t)),"displayName","withViewportBehavior"),a()(He()(He()(t)),"observer",null),a()(He()(He()(t)),"node",null),a()(He()(He()(t)),"intersected",!1),a()(He()(He()(t)),"childComponent",null),t}return ze()(n,t),P()(n,[{key:"componentDidMount",value:function(){this.initIntersectionObserver(),this.startObserver(this.node,this.observer)}},{key:"componentDidUpdate",value:function(e,t){this.intersected||t.inViewport||this.observer&&this.node&&(this.observer.unobserve(this.node),this.observer.observe(this.node))}},{key:"initIntersectionObserver",value:function(){var e=this;!this.observer&&IntersectionObserver&&(this.observer=new IntersectionObserver(function(t){e.handleIntersection(t)},this.options))}},{key:"componentWillUnmount",value:function(){this.stopObserver(this.node,this.observer),this.node=null}},{key:"startObserver",value:function(e,t){e&&t&&t.observe(e)}},{key:"stopObserver",value:function(e,t){e&&t&&(t.unobserve(e),t.disconnect(),this.observer=null)}},{key:"handleIntersection",value:function(e){var t=this.props,n=t.onEnterViewport,r=t.onLeaveViewport,i=(e[0]||{}).intersectionRatio>0;if(!this.intersected&&i)return this.intersected=!0,n&&n(),this.childComponent&&this.childComponent.onEnterViewport&&this.childComponent.onEnterViewport(),void this.setState({inViewport:i});this.intersected&&!i&&(this.intersected=!1,r&&r(),this.childComponent&&this.childComponent.onLeaveViewport&&this.childComponent.onLeaveViewport(),this.options.disconnectOnLeave&&this.observer&&this.observer.disconnect(),this.setState({inViewport:i}))}},{key:"setRef",value:function(e){this.node=l.findDOMNode(e),this.childComponent=e}},{key:"setInnerRef",value:function(e){e&&!this.node&&(this.node=l.findDOMNode(e),this.initIntersectionObserver(),this.startObserver(this.node,this.observer),this.childComponent=e)}},{key:"render",value:function(){var t=this;return u.createElement(e,Pi()({},this.props,{connectViewportBehavior:function(e){t.setInnerRef(e)}}))}},{key:"options",get:function(){return this.props.intersectionOptions||{disconnectOnLeave:!1}}}]),n}(u.PureComponent)},$i=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,[{key:"render",value:function(){var e=this.props.children;return u.createElement("div",null,e)}},{key:"componentDidMount",value:function(){var e=this.props.connectViewportBehavior;e&&e(this)}},{key:"onEnterViewport",value:function(){this.props.onEnterViewport&&this.props.onEnterViewport()}},{key:"onLeaveViewport",value:function(){this.props.onLeaveViewport&&this.props.onLeaveViewport()}}]),t}(u.Component),ea=Object(Fi.a)(Zi)($i),ta=function(e){function t(){var e,n;M()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pe()(this,(e=We()(t)).call.apply(e,[this].concat(i))),a()(He()(He()(n)),"active",!1),a()(He()(He()(n)),"activatableTimeline",void 0),a()(He()(He()(n)),"hoverTimeline",void 0),a()(He()(He()(n)),"observer",null),a()(He()(He()(n)),"intersected",!1),a()(He()(He()(n)),"nodeElement",void 0),a()(He()(He()(n)),"mouseOverHandler",function(){return n.hoverTimeline&&n.activatableTimeline&&n.activatableTimeline.pause(),n.hoverTimeline&&n.hoverTimeline.play()}),a()(He()(He()(n)),"mouseOutHandler",function(){return n.hoverTimeline&&n.activatableTimeline&&n.activatableTimeline.resume(),n.hoverTimeline&&n.hoverTimeline.reverse()}),n}return ze()(t,e),P()(t,[{key:"render",value:function(){var e=(0,this.props.children)(u.createElement(ea,null));return Object(u.cloneElement)(e,{onMouseOver:this.mouseOverHandler,onMouseOut:this.mouseOutHandler})}},{key:"componentDidMount",value:function(){var e=this;this.nodeElement=this.props.getComponentWidgetRef(),this.hasActivatableAnimations&&(this.activatableTimeline=Qi.createActivatable(this.nodeElement,this.props)),this.hasHoverEffects&&(this.hoverTimeline=Qi.createHover(this.nodeElement,this.props)),!this.observer&&IntersectionObserver&&(this.observer=new IntersectionObserver(function(t){e.handleViewportChange(t)}),this.observer.observe(this.nodeElement)),this.updateToActiveState()}},{key:"handleViewportChange",value:function(e){this.nodeElement&&!1==!!window.ZMAGS_DisableAnimations&&!this.intersected&&e[0].intersectionRatio>0&&this.props.active&&(this.intersected=!0,this.props.trackerEventHandler(this.nodeElement),this.activatableTimeline&&0===this.activatableTimeline.progress()&&this.activatableTimeline.resume())}},{key:"componentDidUpdate",value:function(){this.updateToActiveState()}},{key:"componentWillUnmount",value:function(){this.activatableTimeline&&this.activatableTimeline.kill(),this.hoverTimeline&&this.hoverTimeline.kill(),this.observer.disconnect(),this.observer=null,this.nodeElement=null}},{key:"updateToActiveState",value:function(){var e=this.props.active;e!==this.active&&(this.active=e,this.activatableTimeline&&this.activatableTimeline.restart().pause())}},{key:"hasActivatableAnimations",get:function(){var e=this.props,t=e.animations,n=e.effects;return t&&t.length||n&&Object(B.find)(n,function(e){return e.triggerType===Ae.ATTENTION})}},{key:"hasHoverEffects",get:function(){var e=this.props.effects;return e&&Object(B.find)(e,function(e){return e.triggerType===Ae.HOVER})}}]),t}(u.Component),na=function(e){return e&&e.type===ye.LinkAction},ra=function(e){var t=e.action,n=e.type,r=e.render,i=e.onClick,a=u.Children.only(r);if(na(t)){var o=t.url,c=t.target,s=n===de.LINK&&t.url||void 0;return u.createElement("a",{href:o,target:c,title:s,style:{textDecoration:"none"},tabIndex:0,onClick:function(e){i&&i(),document.getElementsByClassName(Xt)[0]&&(e.preventDefault(),function(e){var t=e.url,n=e.target,r=e.targetMessage,i=e.maxTimeToWait,a=r.targetKey,o=r.targetValue;if(zt){var c=window.setTimeout(function(){window.open(t,n)},i);window.location===window.parent.location&&window.addEventListener("message",function e(r){r.data[a]===o&&(window.clearTimeout(c),window.removeEventListener("message",e),window.open(t,n))})}}({url:o,target:c,maxTimeToWait:250,targetMessage:{targetKey:"openLink",targetValue:o}}))}},a)}return a},ia=Object(Fi.a)(Object(d.b)(null,function(e,t){return S()({onClickHandler:function(){var n=t.action,r=t.analytics,i=t.widgetAction,a=t.sceneNumber,o=t.type,c=t.uuid;e(Object(T.signalWidgetClick)(o,c,n,i,a,r))},trackerEventHandler:function(n){var r={properties:S()({},t,{node:n})};e(Object(T.trackWidgetViewAction)(r,t.sceneNumber))}},t)}),function(e){var t,n;return n=t=function(t){function n(e){var t;return M()(this,n),t=Pe()(this,We()(n).call(this,e)),a()(He()(He()(t)),"containerRef",u.createRef()),a()(He()(He()(t)),"getComponentWidgetRef",function(){return t.containerRef.current}),t.state={width:e.width,height:e.height},t}return ze()(n,t),P()(n,[{key:"render",value:function(){var t=this,n=this.props,r=n.type,i=n.pxTop,a=n.pxLeft,o=n.rotation,c=n.layerIndex,s=n.onClickHandler,l=n.tabIndex,d=Mi()(n,["type","pxTop","pxLeft","rotation","layerIndex","onClickHandler","tabIndex"]),p=this.props.scale,g="widget-component ".concat(r,"-widget"),f=r===de.LINE?"default":"pointer",m={position:"absolute",pointerEvents:d.active?"auto":"none",cursor:d.active?f:"none"};return this.props.pxWidth&&(m.width="".concat(this.props.pxWidth,"px")),this.props.pxHeight&&(m.height="".concat(this.props.pxHeight,"px")),c&&(m.zIndex=c),u.createElement(ta,Pi()({},this.props,{getComponentWidgetRef:this.getComponentWidgetRef,width:this.state.width,height:this.state.height}),function(n){var c=t.state,f=c.width,h=c.height,v=[de.BUTTON,de.SOCIAL_SHARING,de.SCENE_NAVIGATOR];m.transform="translate(".concat(a,"px, ").concat(i,"px)");var E=void 0;if(v.indexOf(r)>-1&&p){var y=p.widthFactor,w=p.heightFactor,b="scale(".concat(y,",").concat(w,")"),x="calc(100% - (100% * ".concat(y,"))"),I="calc(".concat(a,"px - ").concat(x," * 0.5)"),A="calc(100% - (100% * ".concat(w,"))"),k="calc(".concat(i,"px - ").concat(A," * 0.5)"),O="translate(".concat(I,",").concat(k,")");if(m.transform="".concat(O," ").concat(b),Bt()||Ht())if(f||h){var _=a-.5*(f-f*y),L=i-.5*(h-h*w);m.msTransform="translate(".concat(_,"px, ").concat(L,"px) ").concat(b),Bt()&&(m.transform=m.msTransform),E=d.active?"visible":"hidden"}else E="hidden"}0!==o&&(m.transform="".concat(m.transform," rotate(").concat(o,"deg)"),m.transformOrigin="0 0 0");var C=S()({},m,{visibility:E}),T=t.props,N=T.effects,R=T.opacity;N&&N.length>0&&N.forEach(function(e){e.type===Ie.OPACITY&&(delete d.opacity,C.opacity=R)});var D=d.action&&!na(d.action);return u.createElement("div",{ref:t.containerRef,style:C,className:g,tabIndex:na(d.action)?-1:l,onClick:D?s:void 0,role:D?"button":void 0,onKeyDown:D?function(e){"Enter"!==e.key&&" "!==e.key||s()}:void 0},u.createElement(ra,{type:r,action:d.action,render:u.createElement(e,Pi()({},d,{type:r})),onClick:na(d.action)?s:void 0}),n,u.createElement(Oi.a,{handleWidth:!0,handleHeight:!0,skipOnMount:!(Bt()||Ht()),onResize:function(e,n){t.setState({width:e,height:n})},refreshMode:"throttle",refreshRate:300}))})}}]),n}(u.Component),a()(t,"displayName",Object(Fi.d)(e,"withDefaultWidgetBehavior")),n}),aa={overflow:"visible",position:"relative",cursor:"default"},oa=function(e){var t=function(t){var n=t.radius,r=t.opacity,i=t.borderWidth,a=t.borderColor,o=t.boxShadow,c=t.scale,s=t.backgroundColor,l=Mi()(t,["radius","opacity","borderWidth","borderColor","boxShadow","scale","backgroundColor"]),d=S()({width:"100%",height:"100%",opacity:r,boxShadow:o,background:s,backgroundColor:s},aa),p=G()(n);if("number"===p){var g=c?(c.avereage+3)/4:1;d.borderRadius="".concat(n*g,"px")}else"string"===p&&(d.borderRadius=n);return i&&i>0?d.border="".concat(i,"px solid ").concat(a||"#000"):d.borderWidth=0,t.action&&(d.cursor="pointer"),u.createElement("div",{style:d},u.createElement(e,Pi()({},t,l)))};return t.displayName=Object(Fi.d)(e,"withWidgetStyling"),t},ca=Object(Fi.a)(Object(d.b)(null,function(e,t){return S()({onError:function(t){z()(t)?t.forEach(function(t){e(Object(T.SignalErrorAction)(t))}):e(Object(T.SignalErrorAction)(t))}},t)}),function(e){var t,n;return n=t=function(t){function n(){return M()(this,n),Pe()(this,We()(n).apply(this,arguments))}return ze()(n,t),P()(n,[{key:"render",value:function(){var t=this.props,n=t.fontFamilies,r=t.onError;return oe.loadFromArray(n).catch(r),u.createElement(e,this.props)}}]),n}(u.Component),a()(t,"displayName",Object(Fi.d)(e,"withWidgetFontLoading")),n});function ua(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){if(n.action){var r=Object(B.find)(t,function(e){return e.type===n.action.type});if(r)return u.createElement(e,Pi()({},n,{widgetAction:r}))}return u.createElement(e,n)}}}var sa,la={position:"relative",width:"100%",height:"100%"},da=Object(Fi.a)(ia,oa)(function(){var e=S()({},la);return u.createElement("div",{style:e})}),pa=Object(Fi.a)(ia)(function(e){var t=e.lineColor,n=e.lineHeight,r=e.scale,i=e.pxHeight,a={backgroundColor:t,width:"100%",height:r.min*W()(n,10)+"px",marginTop:-r.min*W()(n,10)/2,position:"absolute",top:"".concat(i/2,"px"),left:"0px"};return u.createElement("div",{style:a})}),ga=Object(Fi.a)(ia)(function(){return u.createElement("p",null,"Widget")}),fa=(n(105),"social-window"),ma="location=1,status=1,scrollbars=1,width=500,height=380",ha="//assets.pinterest.com/js/pinmarklet.js",va=(sa={},a()(sa,Ee.Facebook,"//www.facebook.com/sharer.php?u="),a()(sa,Ee.Twitter,"//twitter.com/?status="),a()(sa,Ee.Pinterest,""),a()(sa,Ee.GooglePlus,"//plus.google.com/share?url="),a()(sa,Ee.Linkedin,"//www.linkedin.com/shareArticle?mini=true&url="),sa);Ct()(va),ve.Squared,he.FlatSquared,ve.Rounded,he.FlatRounded,ve.Isolated,he.Isolated,ve.Circle,he.FlatCircle,ve.White,he.WhiteCircle,ve.Black,he.BlackCircle;function Ea(e,t){var n=Dt(!1);if(t=t||n.location.href||window.location.href,e!==Ee.Pinterest){var r=n.document.createElement("a");r.href=va[e]+encodeURIComponent(t),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Dt(!1);-1!==["_self","_parent","_top"].indexOf(t)?r.setTimeout(function(){r.location.href=e},501):r.open(e,t,n)}(r.href,fa,ma)}else{var i=n.document.createElement("script");i.setAttribute("id","zmags-pinmarklet"),i.setAttribute("type","text/javascript"),i.setAttribute("charset","UTF-8"),i.setAttribute("src","".concat(ha,"?r=").concat(99999999*Math.random())),n.document.body.appendChild(i)}}var ya=n(218),wa=Object(Fi.a)(ia)(Object(d.b)(null,function(e,t){return S()({networkClickHandlers:new Ye.a(t.networks.map(function(n){return[n,function(){Ea(n,t.url),Object(T.trackSocialSharing)({id:null,type:ye.SocialSharing,url:t.url},t.sceneNumber,e,t.uuid)}]}))},t)})(function(e){var t=e.style,n=e.networks,r=e.networkClickHandlers,i=n.map(function(e){var n="images/sharing/".concat(t,"/").concat(e,".png"),i=te.viewerBaseUrl?te.viewerBaseUrl+"/":"",a=te.codePath?te.codePath+"/":"",o="".concat(i).concat(a).concat(n);return u.createElement("a",{"data-network":e,className:ya.shareLink,key:e,onClick:r.get(e)},u.createElement("img",{alt:"".concat(De(e)," Share Image"),"aria-label":"Share experience in ".concat(e),style:{maxWidth:"32px",maxHeight:"32px",userSelect:"all"},src:o}))});return u.createElement("div",null,i)})),ba=/^https:\/\/|^http:\/\/|^\//,xa=function(e){var t=function(t){var n=t.active,r=t.url,i=ba.test(r)&&n?r:"about:blank";return u.createElement(e,Pi()({},t,{url:i}))};return t.displayName=Object(Fi.d)(e,"withIframeUrl"),t},Ia=Object(Fi.a)(xa,ia)(function(e){var t=e.url,n=function(e){return-1!==e.indexOf("viewer.html#")&&-1!==e.indexOf("zmags.com")}(t)?vi(t):t;return u.createElement("iframe",{allowFullScreen:!0,src:n,style:{width:"1px",minWidth:"100%",height:"1px",minHeight:"100%",border:0,top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"hidden"},scrolling:"no"})}),Aa=function(e){function t(){var e,n;M()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pe()(this,(e=We()(t)).call.apply(e,[this].concat(i))),a()(He()(He()(n)),"iframeRef",Object(u.createRef)()),a()(He()(He()(n)),"fillIframe",function(){var e=n.props.htmlText,t=n.iframeRef&&n.iframeRef.current&&n.iframeRef.current.contentWindow&&n.iframeRef.current.contentWindow.document?n.iframeRef.current.contentWindow.document:void 0;t&&(t.open(),t.write(e),t.close())}),n}return ze()(t,e),P()(t,[{key:"componentDidUpdate",value:function(e){this.props.htmlText!==e.htmlText&&this.fillIframe()}},{key:"componentDidMount",value:function(){this.fillIframe()}},{key:"render",value:function(){return s.a.createElement("iframe",{src:"about:blank",ref:this.iframeRef,style:{width:"1px",minWidth:"100%",height:"1px",minHeight:"100%",border:0,top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"hidden"}})}}]),t}(u.Component);a()(Aa,"defaultProps",{htmlText:""});var ka=ia(Aa),Oa=[{type:ye.LinkAction},{type:ye.Js},di,{type:ye.SalesforceCommerce},{type:ye.Lightbox},{type:ye.SceneNavigation}],_a={opacity:0,cursor:"pointer",position:"relative",width:"100%",height:"100%"},La=Object(Fi.a)(ua.apply(void 0,L()(Oa)),ia)(function(){return u.createElement("div",{style:_a})}),Ca=n(154),Sa=n.n(Ca),Ta=n(150),Na=n.n(Ta),Ra=function(e){var t=e.action,n=e.color,r=e.fontSize,i=e.fontVariant,a=e.fontFamily,o=e.fontWeight,c=e.letterSpacing,s=e.lineHeight,l=e.textAlign,d=e.textDecoration,p=e.textShadow,g=e.textTransform,f=e.scale,m=e.type===de.TEXT_ENHANCED,h={color:n,fontSize:r*f.widthFactor,fontFamily:a,fontVariant:i,fontWeight:o,letterSpacing:!!c&&c*f.widthFactor,lineHeight:s,textAlign:l,textDecoration:d,textShadow:p,textTransform:g,wordBreak:"break-word"},v=t?"with-pointer-cursor":"";return u.createElement("div",{className:v,style:h,dangerouslySetInnerHTML:{__html:function(e){try{var t=(new DOMParser).parseFromString(e,"text/html");return Na()(t.body.querySelectorAll("*")).forEach(function(e){var t=Sa()(e.style.fontSize.substring(0,e.style.fontSize.length-2)),n=e.style.fontSize.substring(e.style.fontSize.length-2,e.style.fontSize.length);isNaN(t)||"px"!==n||(e.style.fontSize="".concat(f.widthFactor*t,"px"),m&&!h.fontSize&&(h.fontSize="".concat(f.widthFactor*t,"px")));var r=Sa()(e.style.letterSpacing.substring(0,e.style.letterSpacing.length-2)),i=e.style.letterSpacing.substring(e.style.letterSpacing.length-2,e.style.letterSpacing.length);isNaN(r)||"px"!==i||(e.style.letterSpacing="".concat(f.widthFactor*r,"px"));var a=e.style.fontFamily;m&&!h.fontFamily&&(h.fontFamily=a)}),t.body.innerHTML}catch(t){return e}}(e.text)}})};Ra.defaultProps={fontSize:14,lineHeight:1.4};var Da=Object(Fi.a)(ua.apply(void 0,L()(Oa)),ia,ca,oa)(Ra),Ga=n(90);var ja,Ma,Va={"white-1":"circle","white-2":"circle","white-3":"circle","white-4":"circle","white-5":"square","black-1":"circle","black-2":"circle","black-3":"circle","black-4":"circle","black-5":"square"},Pa={cursor:"default"},Fa=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,[{key:"render",value:function(){var e=this.props,t=e.sceneNavigationItems,n=e.direction,r=e.themeClassName;return u.createElement("ul",{"data-direction":n,style:Pa,className:"".concat(Ga.scene_navigator_container," ").concat(Ga.widget_component," ").concat(r)},t.map(function(e){var t=e.id,n=e.controlShapeClassName,r=e.activeClass,i=e.navigate;return u.createElement("li",{key:t,"aria-label":"Navigation item. Navigate to ".concat(e.sceneNumber," scene"),className:"".concat(n," ").concat(r),onClick:i})}))}}]),t}(u.Component),Wa=Object(Fi.a)(ia)(Object(d.b)(function(e,t){var n,r=e.viewer,i=r.experiences[r.activeExperienceId],a=t.theme,o=Ga,c=o[(n=a,n.replace("-","_").replace(/-+(\w)/g,function(e,t){return t.toUpperCase()}))],u=o[Va[a]]||"";return S()({},t,{experienceId:r.activeExperienceId,themeClassName:c,sceneNavigationItems:i.model.scenes.map(function(e,t){var n=t+1;return{activeClass:n===i.currentSceneNumber?Ga.active:"",sceneNumber:n,id:e.id,controlShapeClassName:u,navigate:function(){}}})})},function(e,t){return{gotoSceneClickHandler:function(n,r){e(Object(hn.L)(n,r,t.uuid))}}},function(e,t,n){return S()({},e,{sceneNavigationItems:e.sceneNavigationItems.map(function(e){return S()({},e,{navigate:function(){return t.gotoSceneClickHandler(e.sceneNumber,n.experienceId)}})})})})(Fa)),Ua=[new Ri(3840,3840),new Ri(2560,2560),new Ri(2048,2048),new Ri(1536,1536),new Ri(1280,1280),new Ri(1080,1080),new Ri(960,800),new Ri(910,448),new Ri(720,450),new Ri(480,320),new Ri(300,300),new Ri(100,100),new Ri(50,50)],za=function(e,t){return e.width<=t.width&&e.height<=t.height};!function(e){e.CONTAINER_SIZE_CHANGED="ZmagsContainerSizeChanged",e.IMAGE_URL_UPDATED="ZmagsImageUrlUpdated"}(ja||(ja={})),function(e){e.INITIAL_DIMENSIONS="ZmagsInitialDimensions",e.LOADED_URLS="ZmagsLoadedUrls"}(Ma||(Ma={}));var Ba=function(e){return zt()&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(e)||t}catch(e){return t}}(localStorage.getItem(Ma.LOADED_URLS))[e]||""},Ha=function(e,t,n,r){var i,a,o,c=e.split(".").pop(),u=e;if((!r||r===me.Creator)&&"svg"!==c.toLowerCase()&&-1===e.indexOf("images/transparent-pixel.gif")){var s=c?".".concat(c):"",l=c?e.replace(".".concat(c),""):e,d=null;"gif"!==c.toLowerCase()&&n&&(i=t,a=n,o=Ua.filter(function(e){return!za(i,e)}),d=Object(B.find)(o.sort(function(e,t){return e.width-t.width}),function(e){return za(a,e)})),u=d?"".concat(l,"_").concat(d.width,"x").concat(d.height).concat(s):"".concat(l,"-optimized").concat(s)}return u},Xa=function(){function e(){M()(this,e)}return P()(e,null,[{key:"getFileNameWithExtension",value:function(e){return e?e.split("/").pop().replace(/[?|#].+/,""):null}}]),e}(),qa=te.cloudinaryBaseUrl,Ja=te.viewerBaseUrl,Ya=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"q_auto",a="",o="",c="",u=",f_auto",s=Xa.getFileNameWithExtension(e);return t&&(o="w_".concat(t.width,",h_").concat(t.height,",x_").concat(t.x,",y_").concat(t.y,",c_crop,")),r&&(c="".concat(n?",":"","q_1,e_blur:999/")),n&&(a="c_scale,w_".concat(Math.round(n)).concat(r?"":"/")),r||"original_quality"!==i?(i||(i="q_auto"),s&&s.endsWith(".gif")&&(u=""),i=-1!==i.indexOf("dpr_window")&&!t&&"undefined"!=typeof window&&window.devicePixelRatio?i.replace(",dpr_window",",dpr_".concat(window.devicePixelRatio)):i.replace(",dpr_window",""),"".concat(qa,"/").concat(o).concat(i)+"".concat(u,"/").concat(a).concat(c).concat(s)):"".concat(Ja,"/assets/images/").concat(s)},Ka=te.viewerBaseUrl,Qa=Ka?"".concat(Ka):"",Za=function(e){var t,n=e||"images/transparent-pixel.gif";return(t=n).indexOf("://")>0||0===t.indexOf("//")||(n="".concat(Qa,"/").concat(n)),n},$a=(Object(Fi.a)(Object(Fi.c)("failedInitialLoad","setFailedInitialLoad",!1),Object(Fi.b)({onErrorHandler:function(e){var t=e.setFailedInitialLoad;return function(e){t(!0)}}})),{position:"absolute",width:"100%",height:"100%"}),eo=function(e){function t(e){var n;return M()(this,t),n=Pe()(this,We()(t).call(this,e)),a()(He()(He()(n)),"imageRef",u.createRef()),a()(He()(He()(n)),"imageLqipRef",u.createRef()),a()(He()(He()(n)),"timeout",null),a()(He()(He()(n)),"onImageLoad",function(){var e=n.props,t=e.lqipSrc,r=e.imageErrorSampleRate;n.setState({imageLoaded:!0},function(){t&&r>0&&(n.timeout=setTimeout(n.checkPlaceholderImage,500))})}),a()(He()(He()(n)),"onImageError",function(){n.dispatchImageError("Image Load Error")}),a()(He()(He()(n)),"dispatchImageError",function(e){var t=n.props,r=t.uuid,i=t.src,a=t.lqipSrc,o=t.sceneId,c=t.sceneNumber,u=t.lowQualityImagePlaceholder,s=t.imageErrorSampleRate,l=t.handleImageError;s>0&&l&&l({widgetId:r,sceneId:o,sceneNumber:c,imageErrorData:{imageSrc:i,lqipEnabled:u,lqipSrc:a,viewerType:"CNC",eventCategory:e}})}),a()(He()(He()(n)),"checkPlaceholderImage",function(){n.imageLqipRef.current&&n.dispatchImageError("LQIP Replacement Error")}),n.state={imageLoaded:!1},n}return ze()(t,e),P()(t,[{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){this.props.optimalWidth&&this.props.imageId&&this.props.imageLoaded({imageId:this.props.imageId,width:Math.round(this.props.optimalWidth)})}},{key:"render",value:function(){var e,t=this.props,n=t.isHidden,r=t.src,i=t.altText,a=t.lqipSrc,o=this.state.imageLoaded,c=S()({},$a,{visibility:n?"hidden":"inherit"});return a&&!o&&(e=u.createElement("img",{src:a,"aria-label":i,alt:i,style:c,ref:this.imageLqipRef})),c=a&&!o?S()({},c,{opacity:0}):c,u.createElement(u.Fragment,null,e,u.createElement("img",{src:r,"aria-label":i,alt:i,style:c,onLoad:a?this.onImageLoad:void 0,onError:this.onImageError,ref:this.imageRef}))}}]),t}(u.Component),to=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.effects,i=n.altText,a=n.src,o=n.action,c=n.optimalWidth,s=n.imageId,l=n.lqipSrc,d=n.imageLoaded,p=n.handleImageError,g=n.cloudinaryImageAndDprOverride,f=n.uuid,m=n.sceneId,h=n.sceneNumber,v=n.lowQualityImagePlaceholder,E=n.imageErrorSampleRate,y=r&&Object(B.find)(r,function(e){return e.type===Ie.IMAGE_TOGGLE}),w=i;o&&(e=o.type,t=o.target);var b=u.createElement(u.Fragment,null);if(y){var x=y;b=u.createElement(eo,{altText:x.altText,src:x.src,isHidden:!0,optimalWidth:c,imageId:s,lqipSrc:l,cloudinaryImageAndDprOverride:g,imageLoaded:d,uuid:f,sceneId:m,sceneNumber:h,lowQualityImagePlaceholder:v,imageErrorSampleRate:E,handleImageError:p})}return"sceneNavigation"!==e||w||(w="Scene navigation. Go to ".concat(t)),u.createElement(u.Fragment,null,u.createElement(eo,{src:a,altText:w,optimalWidth:c,imageId:s,lqipSrc:l,cloudinaryImageAndDprOverride:g,imageLoaded:d,uuid:f,sceneId:m,sceneNumber:h,lowQualityImagePlaceholder:v,imageErrorSampleRate:E,handleImageError:p}),b)}}]),t}(u.Component),no=Object(d.b)(function(e){return{imageErrorSampleRate:e&&e.company.model&&e.company.model.imageErrorSampleRate}},function(e,t){return S()({},t,{imageLoaded:function(t){return e(Object(T.imageLoadedAction)(t))},handleImageError:function(t){return e(Object(T.triggerImageErrorAnalytics)(t))}})})(to),ro=Object(Fi.a)(function(e){return function(t){var n=t.src,r=t.frame,i=t.sourceType,a=Mi()(t,["src","frame","sourceType"]),o=new Ri(a.originalImageWidth,a.originalImageHeight),c=Ba(a.uuid)||Ha(n,o,r,i);return u.createElement(e,Pi()({},a,{src:c}))}})(no),io=Object(Fi.a)(ua.apply(void 0,L()(Oa)),ia,oa)(ro),ao=Object(Fi.a)(ua.apply(void 0,L()(Oa)),ia,function(e){return function(t){var n=t.src,r=t.frame,i=t.baseUrl,a=Mi()(t,["src","frame","baseUrl"]),o="".concat(i,"/").concat(n||"","?size=").concat(r.width,",").concat(r.height);return u.createElement(e,Pi()({},a,{src:o,url:o}))}})(ro),oo=Object(Fi.a)(ua.apply(void 0,L()(Oa)),ia,function(e){return function(t){var n=t.src,r=t.crop,i=t.frame,a=t.loadedImageWidth,o=t.lowQualityImagePlaceholder,c=t.cloudinaryImageAndDprOverride,s=Mi()(t,["src","crop","frame","loadedImageWidth","lowQualityImagePlaceholder","cloudinaryImageAndDprOverride"]),l=function(e,t){return t&&e<t?t:(Ua.filter(function(t){return e<=t.width}).sort(function(e,t){return e.width-t.width})[0]||Ua[0]).width}(i.width,a),d=Ba(s.uuid),p=d||Ya(n,r,l,!1,c),g=o&&!d?Ya(n,r,l,o):void 0;return u.createElement(e,Pi()({},s,{src:p,url:p,optimalWidth:l,lqipSrc:g,lowQualityImagePlaceholder:o,cloudinaryImageAndDprOverride:c}))}},oa)(no),co=n(219),uo=n.n(co),so={position:"absolute",top:0,left:0,width:"100%",height:"100%"},lo={position:"relative",height:"100%",width:"100%"},po=function(e){var t=e.videoID,n="//img.youtube.com/vi/".concat(t,"/hqdefault.jpg"),r={width:"100%",height:"100%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:'url("'.concat(n,'")')};return u.createElement("div",{style:r})},go=function(e){function t(){var e,n;M()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pe()(this,(e=We()(t)).call.apply(e,[this].concat(i))),a()(He()(He()(n)),"state",{playerReady:!1,playing:!1}),a()(He()(He()(n)),"player",void 0),a()(He()(He()(n)),"isInViewport",!1),a()(He()(He()(n)),"ref",function(e){n.player=e}),n}return ze()(t,e),P()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.videoID,r=t.controls,i=t.loop,a=t.autoplay,o=t.mute,c=this.state.playing,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={color:"white",modestbranding:0,rel:0,showinfo:0,controls:+(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),loop:+t};return n.loop&&(n.playlist=e),n}(n,i,r);return n&&u.createElement(ea,{onEnterViewport:function(){e.onEnterViewport()},onLeaveViewport:function(){e.onLeaveViewport()}},u.createElement("div",{style:so},u.createElement("div",{style:lo},u.createElement(uo.a,{url:"https://www.youtube.com/watch?v=".concat(n),playing:c,width:"100%",height:"100%",className:"react-player",controls:r,config:{playerVars:s,preload:!0},muted:o,autoPlay:a,loop:i,ref:this.ref,onReady:function(){e.setState({playerReady:!0}),e.tryToPlay()}}))),!this.state.playerReady&&u.createElement("div",{key:n,style:so},u.createElement(po,{videoID:n})))}},{key:"tryToPlay",value:function(){var e=this.state.playerReady,t=this.props,n=t.active,r=t.autoplay;e&&r&&(n&&this.isInViewport?this.setState({playing:!0}):this.setState({playing:!1}))}},{key:"onEnterViewport",value:function(){this.isInViewport=!0,this.tryToPlay()}},{key:"onLeaveViewport",value:function(){this.isInViewport=!1,this.setState({playing:!1})}}]),t}(u.Component),fo=Object(Fi.a)(ia)(go),mo=n(111),ho=function(e){var t=e.icon,n=e.fontSize,r=e.buttonType,i="".concat(te.viewerBaseUrl,"/images/material-design-icons/").concat(t.groupId)+"/svg/production/ic_".concat(t.iconId,"_").concat(t.size,"px.svg"),a={marginLeft:0,marginRight:0};r===v.TEXT_AND_ICON&&(a=t.placement===h.AFTER?{marginLeft:5,marginRight:0}:{marginLeft:0,marginRight:5});var o=S()({},a,{display:"inline-block",verticalAlign:"middle",width:n,height:n,lineHeight:0}),c={fill:t.color,width:n,height:n};return u.createElement("span",{style:o},u.createElement(mo.a,{src:i,svgStyle:c}))},vo={whiteSpace:"nowrap"},Eo=function(e){var t=e.label;return u.createElement("span",{style:vo},t)},yo={outline:"none",pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",width:"auto",height:"auto",margin:"0",WebkitAppearance:"none",lineHeight:"1.4"},wo=Object(Fi.a)(ua.apply(void 0,L()(Oa)),ia,oa,ca)(function(e){var t=e.label,n=e.icon,r=e.buttonType,i=e.color,a=e.fontFamily,o=e.fontSize,c=e.fontStyle,s=e.fontWeight,l=e.opacity,d=e.padding,p=e.radius,g=e.scale,f=r===v.ICON_ONLY,m=f||r===v.TEXT_AND_ICON,E=r===v.TEXT_ONLY||r===v.TEXT_AND_ICON,y=f?{padding:"".concat(d,"px")}:{padding:"6px ".concat(d,"px")},w=S()({},yo,y,{color:i,fontFamily:a,fontStyle:c,fontWeight:s,fontSize:o,opacity:l,border:"0",borderRadius:(p||0)*g.widthFactor});return u.createElement("button",{type:"button",style:w},m&&n.placement===h.BEFORE&&u.createElement(ho,{icon:n,fontSize:o,buttonType:r}),E&&u.createElement(Eo,{label:t}),m&&n.placement===h.AFTER&&u.createElement(ho,{icon:n,fontSize:o,buttonType:r}))}),bo=Object(Fi.a)(ia)(function(e){var t=e.group,n=e.integrations,r=e.size,i=e.active,a=e.sceneNumber;return u.createElement("div",{className:"group"},u.createElement(So,{widgets:t,active:i,integrations:n,size:r,sceneNumber:a}))}),xo=Object(Fi.a)(ia)(function(){return u.createElement("div",{style:{height:"100%",width:"100%"}})}),Io=function(e,t,n){var r=function(e,t){return new Gi(e.left*t.width/100,e.top*t.height/100,e.width*t.width/100,e.height*t.height/100)}(e,t),i=r.top,a=r.left,o=r.width,c=r.height,s=S()({pxTop:i,pxHeight:c,pxLeft:a,pxWidth:o},e);switch(s.type){case de.SALESFORCE_COMMERCE:return u.createElement(xo,Pi()({key:s.uuid},s));case de.LINE:return u.createElement(pa,Pi()({key:s.uuid},s));case de.SHAPE:return u.createElement(da,Pi()({key:s.uuid},s));case de.IMAGE:return function(e,t,n){var r=new Ri(t.width*(e.width/100),t.height*(e.height/100));switch(e.sourceType){case me.Cloudinary:return u.createElement(oo,Pi()({key:e.uuid},e,{frame:r}));case me.Scene7:var i="";if(n){var a=n.find(function(e){return e.type===we.SCENE7});a&&a.imageServingUrl&&(i=a.imageServingUrl)}return u.createElement(ao,Pi()({key:e.uuid},e,{baseUrl:i,frame:r}));case me.Static:case me.Creator:return u.createElement(io,Pi()({key:e.uuid},e,{frame:r}));case me.Unknown:return u.createElement(ga,Pi()({key:e.uuid},e))}}(s,t,n);case de.SOCIAL_SHARING:return u.createElement(wa,Pi()({key:s.uuid},s));case de.YOUTUBE:return u.createElement(fo,Pi()({key:s.uuid},s));case de.EMBED:return"undefined"!=typeof window&&(mi._acceptQuickViewFromChildren(),window.location===window.top.location&&(window.ZMAGS_CustomActionRegistered||(window.addEventListener("message",pi),window.ZMAGS_CustomActionRegistered=!0))),u.createElement(Ia,Pi()({key:s.uuid},s));case de.BUTTON:return u.createElement(wo,Pi()({key:s.uuid},s));case de.LINK:return u.createElement(La,Pi()({key:s.uuid},s));case de.TEXT_ENHANCED:case de.TEXT:return u.createElement(Da,Pi()({key:s.uuid},s));case de.SCENE_NAVIGATOR:return u.createElement(Wa,Pi()({key:s.uuid},s));case de.HTML:return u.createElement(ka,Pi()({key:s.uuid},s));case de.COMPOSITE:case de.DYNAMIC_PRODUCT:var l=S()({},s,{size:t,integrations:n});return u.createElement(bo,Pi()({key:s.uuid},l))}},Ao=new Ye.a,ko=function(e){if(Ao.has(e))return Ao.get(e);var t=Object(B.uniqueId)("widget-");return Ao.set(e,t),t},Oo=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.widgets,r=t.size,i=t.active,a=t.isInitialLoad;return e.active!==i||r.width!==e.size.width||r.height!==e.size.height||a&&!e.isInitialLoad||e.widgets.length!==n.length||!e.widgets.every(function(e,t){return e.uuid===n[t].uuid})}},{key:"render",value:function(){var e=this.props,t=e.widgets,n=e.size,r=e.active,i=e.integrations,a=Mi()(e,["widgets","size","active","integrations"]);return t?u.createElement(u.Fragment,null,t.map(function(e){var t=Io(e,n,i);return Object(u.cloneElement)(t,S()({key:ko(e),active:r},a))})):null}}]),t}(u.Component),_o=te.staticAssetsBaseUrl?"".concat(te.staticAssetsBaseUrl,"/"):"",Lo="".concat(_o,"images/image_default_next_scene.svg"),Co="".concat(_o,"images/image_default_previous_scene.svg"),So=Object(d.b)(function(e,t){var n,r=e.viewer,i=e.page,a=e.company,o=r.experiences[r.activeExperienceId],c=o&&o.model,u=t.widgets,s=t.sceneNumber,l=t.size,d=r.initialLoad,p=o.model.width,g=o.model.height;try{n=fe.getFrom({width:p,height:g},{width:l.width,height:g*(l.width/p)})}catch(e){n=new fe}var f=(l&&d?u.filter(function(e){if(e.rotation&&e.left&&e.width&&e.top&&e.height){var t=l.width*(e.width/100),n=l.height*(e.height/100),r=l.width*(e.left/100),a=l.height*(e.top/100),o=e.rotation&&e.rotation>=360?e.rotation%360:e.rotation,c={a:Si((v={a:{x:0,y:0},b:{x:t,y:0},c:{x:t,y:n},d:{x:0,y:n}}).a,E=o),b:Si(v.b,E),c:Si(v.c,E),d:Si(v.d,E)},u={a:{x:r+c.a.x,y:a+c.a.y},b:{x:r+t+c.b.x,y:a+c.b.y},c:{x:r+t+c.c.x,y:a+n+c.c.y},d:{x:r+c.d.x,y:a+n+c.d.y}};return p=u,g=0,f=0,m=i.viewportWidth,h=i.viewportHeight,!!(Ti(p.d.x,p.d.y,p.a.x,p.a.y,g,f,m,h)||Ti(p.a.x,p.a.y,p.b.x,p.b.y,g,f,m,h)||Ti(p.b.x,p.b.y,p.c.x,p.c.y,g,f,m,h)||Ti(p.c.x,p.c.y,p.d.x,p.d.y,g,f,m,h)||function(e,t,n){var r=!1;function i(e,r,i){return(e.y>n&&r.y<n||e.y<n&&r.y>n)&&t<(r.x-e.x)*(n-e.y)/(r.y-e.y)+e.x&&(i=!i),i}return r=i(e.a,e.b,r),r=i(e.b,e.c,r),r=i(e.c,e.d,r),r=i(e.d,e.a,r)}(p,g,f)||function(e,t,n,r,i){function a(e){return t<e.x&&t+r>e.x&&n<e.y&&n+i>e.y}var o=a(e.a),c=a(e.b),u=a(e.c),s=a(e.d);return o&&c&&u&&s}(p,g,f,m,h))}if(void 0!==e.left&&void 0!==e.width&&void 0!==e.top){var s=l.width*(e.left/100);if(i.viewportWidth<s)return!1;if(0>s+l.width*(e.width/100))return!1;var d=l.height*(e.top/100);if(i.viewportHeight<d)return!1;if(void 0===e.height)return!0;if(0<=d+l.height*(e.height/100))return!0}var p,g,f,m,h,v,E;return!1}):!d&&l?u:[]).map(function(e){var t=void 0!==e.tabIndex?e.tabIndex:ge.TABBABLE,n=e.rotation&&e.rotation>=360?e.rotation%360:e.rotation;if(e.type!==de.IMAGE){if(e.type===de.TEXT||e.type===de.BUTTON){var i=null,o=null;return i=e.fontProvider===pe.TYPEKIT?e.fontMetadata.cssFamilyNames.toString():e.fontProvider===pe.CUSTOM?'"'.concat(e.fontFamily,'"'):e.fontFamily,e.type===de.BUTTON&&(o=[{fontFamily:e.fontFamily,fontProvider:e.fontProvider,fontWeight:e.fontWeight,fontSize:e.fontSize,fontStyle:e.fontStyle,fontMetadata:e.fontMetadata}]),S()({},e,{fontFamily:i,rotation:n,sceneNumber:s,fontFamilies:e.type===de.BUTTON?o:e.fontFamilies,tabIndex:t})}return e.type===de.TEXT_ENHANCED?S()({},e,{fontFamily:null,fontSize:null,rotation:n,sceneNumber:s,tabIndex:t}):e.type===de.EMBED?S()({},e,{tabIndex:ge.NONTABBABLE}):S()({},e,{rotation:n,sceneNumber:s,tabIndex:t})}var c=e.src,u=e.action&&e.action.type===ye.SceneNavigation&&!c;if(a.model&&(c||u)){u&&(c="next"===e.action.target?Lo:Co);var l=!u&&(a.model.cloudinaryDefaultImageProvider||!!e.crop),d=l&&a.model.enableImageLQIP,p=l?c:Za(c),g=e.sourceType;e.sourceType||(g=l?me.Cloudinary:me.Creator);var f=e.effects.map(function(e){if(e.type===Ie.IMAGE_TOGGLE){var t=e.src,n=l?Ya(t,null):Za(t);return S()({},e,{src:n})}return S()({},e)});return S()({},e,{effects:f,src:p,sourceType:g,rotation:n,sceneNumber:s,loadedImageWidth:r.loadedImages&&r.loadedImages[e.imageId]?r.loadedImages[e.imageId]:void 0,lowQualityImagePlaceholder:d,cloudinaryImageAndDprOverride:a.model.cloudinaryImageAndDprOverride,tabIndex:t})}});return S()({},t,{scale:n,widgets:f.filter(function(e){return!!e}),integrations:c.integrations,isInitialLoad:d})})(Oo),To=function(e){function t(){return M()(this,t),Pe()(this,We()(t).apply(this,arguments))}return ze()(t,e),P()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.model,r=n.widgets,i=n.id,a=t.size,o=a.width,c=a.height,u=t.hidden;return e.model.id!==i||e.size.width!==o||e.size.height!==c||e.hidden!==u||r.length!==e.model.widgets.length||!e.model.widgets.every(function(e,t){return e.uuid===r[t].uuid})}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.size,r=e.style,i=e.active,a=void 0!==i&&i,o=e.hidden,c=void 0!==o&&o,s=t.sceneNumber,l=t.id,d=t.widgets,p=n.width,g=n.height,f=S()({position:"absolute",overflow:"hidden",pointerEvents:"none",width:p,height:g,visibility:c?"hidden":"visible",zIndex:0,top:0,left:0},r);return u.createElement("div",{className:"scene-".concat(s),style:f},u.createElement(So,{widgets:d,active:a,size:n,sceneNumber:s,sceneId:l}))}}]),t}(u.Component),No=.5,Ro=function(e){function t(e){var n;return M()(this,t),n=Pe()(this,We()(t).call(this,e)),a()(He()(He()(n)),"myRef",void 0),a()(He()(He()(n)),"getSceneElement",function(e){var t=l.findDOMNode(n.myRef[e]);return t&&t.children[0]}),a()(He()(He()(n)),"executeSlide",function(e,t,n,r,i){var o,c=a()({},i,n),u=a()({},i,r),s=(o={},a()(o,i,-1*n),a()(o,"onComplete",function(){Wi.i.to(t,0,{visibility:"hidden"})}),o);Wi.i.fromTo(e,No,c,u),Wi.i.fromTo(t,No,u,s)}),a()(He()(He()(n)),"animateElements",function(e,t,r,i){switch(Wi.i.set(e,{visibility:"visible"}),Wi.i.set(t,{visibility:"visible"}),i){case E.SLIDE_FROM_BOTTOM:n.executeSlide(e,t,r.height,0,"y");break;case E.SLIDE_FROM_TOP:n.executeSlide(e,t,-r.height,0,"y");break;case E.SLIDE_FROM_RIGHT:n.executeSlide(e,t,r.width,0,"x");break;case E.SLIDE_FROM_LEFT:n.executeSlide(e,t,-r.width,0,"x");break;case E.FADE:Wi.i.fromTo(e,No,{autoAlpha:0},{autoAlpha:1}),Wi.i.fromTo(t,No,{autoAlpha:1},{autoAlpha:0});break;default:Wi.i.fromTo(e,0,{autoAlpha:0},{autoAlpha:1}),Wi.i.fromTo(t,0,{autoAlpha:1},{autoAlpha:0})}}),n.myRef={},n.state={currentSceneId:e.sceneId,currentSceneSize:e.sceneSize,shouldAnimate:!1},n}return ze()(t,e),P()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.sceneId,r=t.currentSceneId;return n!==r?{currentSceneId:n,previousSceneId:r,shouldAnimate:!0}:{currentSceneId:r,shouldAnimate:!1}}}]),P()(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=t.shouldAnimate,r=!this.props.sceneSize.equals(e.sceneSize);return n||r}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.sceneId;return u.Children.map(n,function(t){var n=t,i=n.props.model,a={active:i.id===r};return u.createElement("div",{ref:function(t){return e.myRef[i.id]=t}},Object(u.cloneElement)(n,a))})}},{key:"componentDidUpdate",value:function(){if(this.state.shouldAnimate){var e=this.props,t=e.transitionType,n=t;if(e.transitionDirection===p.a.BACKWARDS)switch(t){case E.SLIDE_FROM_RIGHT:n=E.SLIDE_FROM_LEFT;break;case E.SLIDE_FROM_BOTTOM:n=E.SLIDE_FROM_TOP;break;case E.SLIDE_FROM_LEFT:n=E.SLIDE_FROM_RIGHT;break;case E.SLIDE_FROM_TOP:n=E.SLIDE_FROM_BOTTOM;break;default:n=t}var r=this.state,i=r.currentSceneId,a=r.previousSceneId,o=this.getSceneElement(i);if(o){var c=this.getSceneElement(a);c&&(Wi.i.set(c,{top:0,left:0,position:"absolute"}),this.animateElements(o,c,this.props.sceneSize,n))}}}}]),t}(u.Component),Do=function(e){var t=e.scenes,n=e.currentSceneIndex,r=e.size,i=e.transition,a=e.transitionDirection,o=e.initialLoad,c=n-1,s=t[c],l=function(e,t,n,r){if(1===e.length)throw new Error("'computeCurrentScenes' needs at least 2 scenes.");if(t>=e.length)throw new RangeError("Invalid index: ".concat(t,". We only have ").concat(e.length," scenes."));var i=e.length-1,a=t+1>i?0:t+1,o=t-1<0?i:t-1,c=e[t],s=e[a],l=e[o],d={size:n},p=[u.createElement(To,Pi()({model:c,key:c.id},d))];return r||(p.splice(0,0,u.createElement(To,Pi()({model:l,hidden:!0,key:l.id},d))),e.length>2&&p.push(u.createElement(To,Pi()({model:s,hidden:!0,key:s.id},d)))),p}(t,c,r,o);return u.createElement(Ro,{transitionDirection:a,transitionType:i,sceneSize:r,sceneId:s.id},l)},Go=function(e){return u.createElement(To,Pi()({style:{position:"absolute",top:0,left:0}},e))},jo=function(e){var t=e.scenes,n=e.overlayScene,r=e.backgroundScene,i=e.size,a=e.initialLoad,o=e.transition,c=e.transitionDirection,s=e.currentSceneIndex,l=void 0===s?1:s,d=Mi()(e,["scenes","overlayScene","backgroundScene","size","initialLoad","transition","transitionDirection","currentSceneIndex"]),p=1===t.length?u.createElement(To,Pi()({model:t[0],active:!0,size:i},d)):u.createElement(Do,Pi()({currentSceneIndex:l,scenes:t,size:i,transitionDirection:c,transition:o,initialLoad:a},d));return u.createElement("div",null,u.createElement(Go,{model:r,size:i,active:!0}),p,u.createElement(Go,{model:n,size:i,active:!0}))},Mo=n(106),Vo=n(151),Po=n.n(Vo),Fo={position:"fixed",background:"#000",zIndex:1e3},Wo={position:"absolute",top:-14,right:-14,width:28,height:28,cursor:"pointer",zIndex:1e3},Uo={position:"relative",width:"100%",height:"100%",border:0},zo={position:"fixed",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",zIndex:1e3,background:"black",opacity:.65},Bo={width:Wo.width,height:Wo.height},Ho=function(e){var t=e.url,n=e.closeLightbox,r=e.renderedLightBoxProps,i="".concat(te.viewerBaseUrl,"/images/icons/close.svg"),a=r?r.height:0,o=r?r.width:0,c=r?r.left:0,s=r?r.top:0,l=S()({},Fo,{left:c,top:s,height:a,width:o});return u.createElement("div",null,u.createElement("div",{className:"zmags-lightbox-overlay",style:zo,onClick:n}),u.createElement("div",{style:l},u.createElement("div",{className:"zmags-lightbox-close",onClick:n,style:Wo},u.createElement(mo.a,{src:i,svgStyle:Bo})),u.createElement("iframe",{src:t,style:Uo})))},Xo=!("undefined"==typeof window||!window.document||!window.document.createElement),qo=function(e){function t(e){var n;return M()(this,t),(n=Pe()(this,We()(t).call(this,e))).state={lightboxNode:null,lightboxDocument:null},n}return ze()(t,e),P()(t,[{key:"componentWillMount",value:function(){var e=this.state.lightboxNode;if(!Xo)return null;var t=(Xo?Dt(!1).document:null)||document;if(!e){var n=t.createElement("div");n.className="zmags-lightbox-viewer",t.body.appendChild(n),this.setState(function(e){return S()({},e,{lightboxNode:n,lightboxDocument:t})})}}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.lightboxNode,n=e.lightboxDocument;t&&n&&n.body.removeChild(t),this.setState(function(e){return S()({},e,{lightboxNode:null,lightboxDocument:null})})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.lightboxDocument;t&&t.addEventListener("keyup",function(t){27===t.keyCode&&e.props.closeLightbox()})}},{key:"render",value:function(){var e=Po()({},this.props),t=this.state.lightboxNode;return Xo&&t?Object(l.createPortal)(u.createElement(Ho,e),t):null}}]),t}(u.PureComponent),Jo=function(e){function t(){var e,n;M()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pe()(this,(e=We()(t)).call.apply(e,[this].concat(i))),a()(He()(He()(n)),"touchCoords",{clientX:0,clientY:0}),a()(He()(He()(n)),"state",{swipe:!1,minDistance:30,touchCoords:n.touchCoords}),a()(He()(He()(n)),"onTouchStart",function(e){n.setState({touchCoords:{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}})}),a()(He()(He()(n)),"onTouchMove",function(e){e.changedTouches&&e.changedTouches.length&&n.setState({swipe:!0})}),a()(He()(He()(n)),"onTouchEnd",function(e){var t=e.changedTouches[0],r=t.clientX-n.state.touchCoords.clientX,i=t.clientY-n.state.touchCoords.clientY;n.state.swipe&&Math.abs(r)>n.state.minDistance&&Math.abs(r)>Math.abs(i)&&(r>0?n.props.onSwipeLeft():n.props.onSwipeRight()),n.setState({swipe:!1})}),n}return ze()(t,e),P()(t,[{key:"render",value:function(){return u.createElement("div",{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,style:this.props.style},this.props.children)}}]),t}(u.PureComponent);a()(Jo,"defaultProps",{onSwipeLeft:function(){return B.noop},onSwipeRight:function(){return B.noop},style:{}});var Yo=function(e){function t(){var e,n;M()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pe()(this,(e=We()(t)).call.apply(e,[this].concat(i))),a()(He()(He()(n)),"handleMouseEnter",function(){n.props.onMouseEnter(n.props.model.id)}),a()(He()(He()(n)),"handleMouseLeave",function(){n.props.onMouseLeave(n.props.model.id)}),a()(He()(He()(n)),"handleSwipeLeft",function(){n.props.changeScene(p.a.BACKWARDS)}),a()(He()(He()(n)),"handleSwipeRight",function(){n.props.changeScene(p.a.FORWARDS)}),a()(He()(He()(n)),"buildSwipableScenes",function(e){return n.props.sceneHasNavigation?n.buildScenes():u.createElement(Jo,{style:e,onSwipeLeft:n.handleSwipeLeft,onSwipeRight:n.handleSwipeRight},n.buildScenes())}),a()(He()(He()(n)),"buildScenes",function(){var e=n.props,t=e.frame,r=e.model,i=e.sceneNumber,a=e.transitionDirection,o=e.initialLoad;return u.createElement(jo,{size:t.size,initialLoad:o,overlayScene:r.overlayScene,backgroundScene:r.backgroundScene,scenes:r.scenes,currentSceneIndex:i,transition:r.transition,transitionDirection:a})}),n}return ze()(t,e),P()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.model,n=e.model,r=e.frame;return void 0!==t||t!==n||!r.height||!r.width}},{key:"render",value:function(){var e=this.props,t=e.frame,n=e.model,i=e.closeLightboxHandler,a=e.renderedLightBoxProps,o=e.lightbox,c=e.experienceFit;if(!n||"BreakpointGroup"===n.type||t.size.width<0)return null;var s={width:t.width,height:t.height,backgroundColor:n.backdrop.color,position:"relative"};c===r.Height&&(t.x&&(s.left=t.x),t.y&&(s.top=t.y));var l={width:"100%",height:"100%"};n.backdrop.type===f.IMAGE&&(s=S()({},s,{backgroundColor:"transparent"}),"Experience"===n.backdrop.fit?s=S()({},s,{backgroundImage:'url("'.concat(te.viewerApiBaseUrl,"/").concat(n.backdrop.image.url,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"top center"}):l=S()({},l,{backgroundImage:'url("'.concat(te.viewerApiBaseUrl,"/").concat(n.backdrop.image.url,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"top center"}));var d=o?u.createElement(qo,{url:o.url,width:o.width,height:o.height,closeLightbox:i,renderedLightBoxProps:a}):null;return u.createElement("div",{style:l,"data-version":te.version},u.createElement("div",{style:s,className:_i.experienceViewer,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.buildSwipableScenes(l),d))}}]),t}(u.Component);a()(Yo,"defaultProps",{sceneNumber:1,transitionDirection:p.a.FORWARDS,frame:new Gi(0,0,800,600),lightbox:void 0,closeLightboxHandler:B.noop,experienceFit:r.Width,onMouseEnter:function(){return B.noop},onMouseLeave:function(){return B.noop}});var Ko=function(e){return e&&e.currentSceneNumber?e.currentSceneNumber:0};function Qo(e){var t=e.widgetTabOrder,n=void 0===t?[]:t,r=[],i=[];return n.length>0?e.widgets.forEach(function(e){var t=n.indexOf(e.uuid);if(-1===t){var a=S()({},e,{tabIndex:ge.NONTABBABLE});i.push(a)}else{var o=S()({},e,{tabIndex:ge.TABBABLE});r[t]=o}}):i=L()(e.widgets),S()({},e,{widgets:[].concat(L()(r.filter(function(e){return!!e})),L()(i))})}var Zo=function(e,t){var n,r;if(e&&e.model)if(!(r=t.model)||r.adaTabOrderEnabled){var i=e.model,a=i.scenes,o=i.overlayScene,c=i.backgroundScene;Qo(a[e.currentSceneNumber-1]);var u=a.map(function(e){return Qo(e)});n=S()({},e.model,{scenes:u,overlayScene:Qo(o),backgroundScene:Qo(c)})}else n=e.model;return n},$o=function(e){return e&&"sceneNavigation"===e.type&&"previous"!==e.target&&"next"!==e.target},ec=function(e){return!(!e||!e.find(function(e){if($o(e.action))return!0;e.type===de.COMPOSITE&&e.group&&e.group.forEach(function(e){return $o(e.action)})}))},tc=function(e,t){var n=!1,r=Zo(e,t),i=Ko(e);if(r&&i){var a=r.scenes.find(function(e){return e.sceneNumber===i.toString()});n=ec(a.widgets)||n,n=ec(r.overlayScene.widgets)||n,n=ec(r.backgroundScene.widgets)||n}return n},nc=Object(d.b)(function(e,t){var n,i=e.viewer,a=e.viewer.lightbox,o=e.company,c=function(e,t){return function(e){var t=e.model;return!t||"Active"===t.state}(t)?e.experiences[e.activeExperienceId]:void 0}(i,o),u=Ko(c),s=(n=c)&&n.transitionDirection?n.transitionDirection:0,l=i.initialLoad,d=i.experienceFit,p=function(e,t,n){var i,a,o,c,u=(c=e)&&c.model?c.model.width:0,s=function(e){return e&&e.model?e.model.height:0}(e),l=t.containerHeight,d=t.containerWidth,p=new Ri(u,s),g=new Ri(d,l);n===r.Height&&g.aspectRatio>p.aspectRatio?(a=p.width*(l/p.height),o=new Ri(a,l)):(i=p.height*(d/p.width),o=new Ri(d,i));var f=o.shrinkToAspectRatio(p.aspectRatio),m=new Di(d/2-f.width/2,l/2-f.height/2);return new Gi(m,f)}(c,e.page,d),g=e.page,f=g.viewportHeight,m=g.viewportWidth,h=a?a.width:1,v=a?a.height:1,E=Math.min(f,v),y=h*(E/v),w={width:y,height:E,left:(m-y)/2,top:E<f?(f-E)/2:0};return S()({},t,{lightbox:a,renderedLightBoxProps:w,model:Zo(c,o),frame:p,sceneNumber:u,transitionDirection:s,initialLoad:l,sceneHasNavigation:tc(c,o),experienceFit:d})},function(e){return{closeLightboxHandler:function(){e(Object(T.closeLightboxAction)())},onMouseEnter:function(t){e(Object(T.signalExperienceMouseEnter)(t))},onMouseLeave:function(t){e(Object(T.signalExperienceMouseLeave)(t))},onChangeScene:function(t,n,r){e(Object(T.signalExperienceSceneChange)(t,n,r))}}},function(e,t){var n=e.model,r=e.transitionDirection,i=e.sceneNumber,a=t.closeLightboxHandler,o=t.onMouseEnter,c=t.onMouseLeave,u=t.onChangeScene,s=null==n?void 0:n.id,l={model:n,transitionDirection:r,currentSceneNumber:i};return S()({},e,{closeLightboxHandler:a,onMouseEnter:o,onMouseLeave:c,changeScene:function(e){s&&u(s,Object(Mo.b)(e,l),e)}})})(Yo),rc=Object(d.b)(null,function(e){return{onResize:function(t,n){e(Object(T.signalExperienceContainerChange)({height:n,width:t}))}}})(function(e){var t=e.onResize;return u.createElement(u.Fragment,null,u.createElement(Oi.a,{handleWidth:!0,handleHeight:!1,onResize:t,refreshMode:"throttle",refreshRate:300}),u.createElement(nc,null))}),ic=function(e,t){var n=window["".concat("ZMAGS_CombinedGroupModel_").concat(t)],r=[],i=!0,a=!1,o=void 0;try{for(var u,s=c()(n.entries);!(i=(u=s.next()).done);i=!0){var l=u.value;l.type===m.BREAKPOINT&&l.value&&r.push({threshold:l.value&&l.value.threshold||0,resourceId:l.reference.resourceId,type:l.type,experience:l.reference.resource})}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}var d=n.companySettings;e(Object(T.signalComplexGroupLoaded)(r,d))},ac=function(e,t){var n=Array.prototype.slice.call(document.querySelectorAll(t?".zmags-viewer-container.event-start":".zmags-viewer-container"));oe.registerProvider(new Ce),oe.registerProvider(new Oe),oe.registerProvider(new Se),oe.registerProvider(new _e),oe.registerProvider(new Le),n.forEach(function(e){var t=e.getAttribute("data-experience"),n=e.getAttribute("data-group"),r=e.getAttribute("data-template"),i=e.getAttribute("data-company"),o=e.getAttribute("data-speed"),c="true"===e.getAttribute("data-fit-in-height"),s="true"===e.getAttribute("data-group-disable"),p=!(!t||!window[t+"_STATE"]),g=p?window[t+"_STATE"]:I,f=window.ZMAGS_ExperienceModel;f&&(g.viewer.activeExperienceId=f.id,g.viewer.experiences=a()({},f.id,{currentSceneNumber:1,transitionDirection:0,model:f}));var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=te.production?A.applyMiddleware.apply(void 0,re):Object(O.composeWithDevTools)(A.applyMiddleware.apply(void 0,re)),n=Object(A.createStore)(R,e,t);return{store:n,runSaga:ne.run,close:function(){return n.dispatch(k.END)}}}(g),h=m.store,v=h.dispatch;if(m.runSaga(Ai),Object(T.initializeViewer)(v),c&&v(Object(T.signalViewerFitInHeightAction)()),v(Object(T.signalViewportChange)({height:window.innerHeight,width:window.innerWidth},{height:window.outerHeight,width:window.outerWidth})),r)v(Object(T.signalTemplateLoad)(r));else if(t)v(Object(T.activateExperience)(t,s));else if(n)if(o&&i){var E=window["".concat("ZMAGS_CombinedGroupModel_").concat(n)];E?ic(v,n):null===E?(document.addEventListener("".concat("ZmagsCombinedDataReady_").concat(n),function(){window["".concat("ZMAGS_CombinedGroupModel_").concat(n)]?ic(v,n):(v(Object(T.signalCombinedGroupErrorAnalytics)({companyId:i,groupId:n})),v(Object(T.signalGroupLoad)(n)))},!1),document.addEventListener("".concat("ZmagsCombinedDataReady_").concat(n),ic.bind(null,v,n),!1)):v(Object(T.signalComplexGroupLoad)(n,i))}else v(Object(T.signalGroupLoad)(n));window.addEventListener("message",function(e,t){var n=t.data,r=n.type,i=n.sceneParams;if("CNCSceneNavigation"===r&&i){var a=i.sceneIndex,o=i.experienceId,c=i.transitionDirection;e(Object(T.signalExperienceSceneChange)(o,a,c))}}.bind(null,v)),(p?l.hydrate:l.render)(u.createElement(d.a,{store:h},u.createElement(rc,null)),e)})};window.STARTED_ZMAGS_SCRIPTS||(window.STARTED_ZMAGS_SCRIPTS=!0,document.addEventListener("ZmagsInitialize",function(e){ac(0,!0)}),document.addEventListener("ZmagsCleanup",function(){Array.prototype.slice.call(document.querySelectorAll(".zmags-viewer-container")).forEach(function(e){Object(l.unmountComponentAtNode)(e)})}),document.addEventListener("DOMContentLoaded",ac))},89:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.VIEWPORT_CHANGE="viewportChange",e.EXPERIENCE_CONTAINER_CHANGE="experienceContainerChange",e.VIEWER_INIT="viewerInit",e.VIEWER_INITIALIZED="viewerInitialized",e.VIEWER_LIGHTBOX_OPEN="viewerLightboxOpen",e.VIEWER_LIGHTBOX_CLOSE="viewerLightboxClose",e.VIEWER_CLICK_LINK="viewerClickLink",e.VIEWER_JS_CLICK="viewerJsClick",e.VIEWER_CUSTOM_JS_CLICK="viewerCustomJsClick",e.VIEWER_SALESFORCE_COMMERCE="viewerSalesforceCommerce",e.VIEWER_SALESFORCE_WIDGET="viewerSalesforceWidget",e.VIEWER_SCENE_NAVIGATION="viewerSceneNavigation",e.VIEWER_SOCIAL_SHARING="viewerSocialSharing",e.VIEWER_WIDGET_VIEW="viewerWidgetViewed",e.VIEWER_FIT_IN_HEIGHT="viewerFitInHeight",e.EXPERIENCE_ACTIVATE="experienceActivate",e.EXPERIENCE_ACTIVATED="experienceActivated",e.EXPERIENCE_LOAD="experienceLoad",e.EXPERIENCE_LOADED="experienceLoaded",e.EXPERIENCE_ACTIVE_LOADED="experienceActiveLoaded",e.EXPERIENCE_LOAD_FAILED="experienceLoadFailed",e.EXPERIENCE_SCENE_CHANGE="experienceSceneChange",e.EXPERIENCE_MOUSE_ENTER="experienceMouseEnter",e.EXPERIENCE_MOUSE_LEAVE="experienceMouseLeave",e.EXPERIENCE_INITIAL_LOAD_END="experienceInitialLoadEnd",e.ANALYTICS_EVENT_QUEUED="experienceAnalyticsEventQueued",e.REMOVE_ANALYTICS_EVENT="experienceRemoveAnalyticsEvent",e.IMAGE_ERROR_EVENT="imageErrorEvent",e.COMBINED_GROUP_ERROR_EVENT="combinedGroupErrorEvent",e.COMBINED_GROUP_ERROR_EVENT_QUEUED="combinedGroupErrorEventQueued",e.REMOVE_COMBINED_GROUP_ERROR_EVENT="removeCombinedGroupErrorEvent",e.TEMPLATE_LOAD="templateLoad",e.TEMPLATE_LOADED="templateLoaded",e.TEMPLATE_LOAD_FAILED="templateLoadFailed",e.GROUP_LOAD="groupLoad",e.GROUP_LOADED="groupLoaded",e.GROUP_LOAD_FAILED="groupLoadFailed",e.COMPLEX_GROUP_LOAD="complexGroupLoad",e.COMPLEX_GROUP_LOADED="complexGroupLoaded",e.COMPLEX_GROUP_LOAD_FAILED="complexGroupLoadFailed",e.COMPANY_SETTINGS_LOAD="companySettingsLoad",e.COMPANY_SETTINGS_LOADED="companySettingsLoaded",e.COMPANY_SETTINGS_LOAD_FAILED="companySettingsLoadFailed",e.TRIGGER_ANALYTICS="triggerAnalytics",e.TRIGGER_COMBINED_GROUP_ANALYTICS="triggerCombinedGroupAnalytics",e.APPLICATION_ERROR="applicationError",e.VIEWER_WIDGET_CLICK="viewerWidgetClick",e.VIEWER_SCENE_NAVIGATOR_WIDGET_CLICK="viewerSceneNavigatorWidgetClick",e.IMAGE_LOADED="imageLoaded"}(r||(r={}))},90:function(e,t,n){e.exports={scene_navigator_container:"SceneNavigatorWidgetComponent_scene_navigator_container_3wdFT",widget_component:"SceneNavigatorWidgetComponent_widget_component_EhQLG",circle:"SceneNavigatorWidgetComponent_circle_2lvJ5",white_1:"SceneNavigatorWidgetComponent_white_1_3gnTu",black_1:"SceneNavigatorWidgetComponent_black_1_1bML4",black_2:"SceneNavigatorWidgetComponent_black_2_1SdGq",black_3:"SceneNavigatorWidgetComponent_black_3_1Ljtz",black_4:"SceneNavigatorWidgetComponent_black_4_1naRk",black_5:"SceneNavigatorWidgetComponent_black_5_3RW-H",white_2:"SceneNavigatorWidgetComponent_white_2_WCgio",white_3:"SceneNavigatorWidgetComponent_white_3_2Ab4l",white_4:"SceneNavigatorWidgetComponent_white_4_1A6ZX",white_5:"SceneNavigatorWidgetComponent_white_5_2LU_q",active:"SceneNavigatorWidgetComponent_active_1oDao"}}},[[368,1,2]]]);